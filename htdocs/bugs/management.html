<html>

<head>
<title>Maintaining the GCC Bugzilla database</title>
</head>

<body>
<h1>Managing Bugs (Bugzilla and the testsuite)</h1>

<p>This section contains information mostly intended for GCC
contributors.</p>

<h2>Reporting and Fixing Bugs</h2>

<p>If you <em>find</em> a bug, but you are not fixing it (yet):</p>
<ol>
<li>Create a (minimal) testcase and add a bug report including it to
the bug database (Bugzilla).</li>
</ol>

<p>If you want to <em>provide additional information</em> about a bug in
the database:</p>
<ul>
<li>If the bug is a segmentation fault in the compiler,
<a href="segfault.html">provide information about its location</a>.
</li>
<li><a href="minimize.html">Minimize the test case</a>.</li>
<li>Try the test case with earlier and later versions of GCC to determine
which versions it affects and whether it is a
<a href="#regression">regression</a>.</li>
<li>If it is a regression, <a href="reghunt.html">identify the patch</a>
that introduced it.</li>
</ul>

<p>If you <em>fix</em> a bug:</p>
<ol>
<li>Check in your fixes.</li>
<li>If there is already a testcase in the testsuite, remove the XFAIL.
Else, create a minimal testcase (maybe the bug database already provides one)
and add it to our testsuite, marking it as PASS.</li>
<li>If there is an associated bug report in the database, close it.</li>
</ol>

<h2>Maintainer's View of Fields</h2>

<p>Bugzilla offers a number of different fields.  From a maintainer's
perspective, these are the relevant ones and what their values mean:</p>

<table border="1" cellpadding="4" summary="States">

<tr align="center">
<th><h3 id="status">Status</h3></th>
<th><h3 id="resolution">Resolution</h3></th>
</tr>

<tr valign="top">
<td>The <em>status</em> field indicates the general health of a bug. Only
certain status transitions are allowed.</td>
<td>The <em>resolution</em> field indicates what happened to this bug.</td>
</tr>

<tr valign="top"><td>

<dl>
<dt><b>UNCONFIRMED</b></dt>
<dd>The PR has been filed and the responsible person(s) notified.</dd>

<dt><b>NEW</b></dt>
<dd>A maintainer has verified that this is indeed a bug in GCC. Every
once in a while, old reports will need to be rechecked, to find out
whether the bug still exists.</dd>

<dt><b>WAITING</b></dt>
<dd>The submitter was asked for further information, or asked to try
out a patch. The PR remains in that state until the submitter
responds.</dd>

<dt><b>SUSPENDED</b></dt>
<dd>Work on the problem has been postponed.  This happens if a timely
solution is not possible or is not cost-effective at the present time.
The PR continues to exist, though a solution is not being actively
sought. If the problem cannot be solved at all, it should be closed
rather than suspended.</dd>

<dt><b>ASSIGNED</b></dt>
<dd>This bug is not yet resolved, but is assigned to the proper
person. From here bugs can be given to another person and become
<b>NEW</b>, or resolved and become <b>RESOLVED</b>.</dd>
     
<dt><b>REOPENED</b></dt>
<dd>This bug was once resolved, but the resolution was deemed
incorrect.  For example, a <b>WORKSFORME</b> bug is
<b>REOPENED</b> when more information shows up and the bug is now
reproducible.  From here bugs are either marked <b>ASSIGNED</b>
or <b>RESOLVED</b>.</dd>
</dl>
</td>

<td>
No resolution yet. All bugs which are in one of these "open" states
have the resolution set to blank. All other bugs
will be marked with one of the following resolutions.
</td>
</tr>

<tr valign="top"><td>
<dl>
<dt><b>RESOLVED</b></dt>
<dd> A resolution has been found for this bug. The bug is either closed
for good, or can be re-opened and change to <b>REOPENED</b>.</dd>

</dl>
</td>
<td>
<dl>
<dt><b>FIXED</b></dt>
<dd> A fix for this bug is checked into the tree and tested.</dd>

<dt><b>INVALID</b></dt>
<dd> The problem described is not a bug</dd> 

<dt><b>WONTFIX</b></dt>
<dd> The problem described is a bug which will never be fixed.</dd>

<dt><b>DUPLICATE</b></dt>
<dd> The problem is a duplicate of an existing bug. Marking a bug
duplicate requires the bug# of the duplicating bug and will at
least put that bug number in the description field.</dd>
     
<dt><b>WORKSFORME</b></dt>
<dd> All attempts at reproducing this bug were futile, reading the
code produces no clues as to why this behavior would occur. If
more information appears later, please re-assign the bug, for
now, file it.</dd>
</dl>
</td>
</tr>
</table>

<p>The following two fields describe how serious a bug is from a user's
perspective (severity) and which priority we assign to it in fixing it:</p>

<table border="1" cellpadding="4"><tr>
<td valign="top">

<h3 align="center" id="severity">Severity</h3>
This field describes the impact of a bug.
<table>
<tr><th>Critical</th><td>crashes, memory leaks and similar problems on code
that is written in a common enough style to affect a significant fraction of
users</td></tr>
<tr><th>Normal</th><td>major loss of functionality </td></tr>
<tr><th>Minor</th><td>minor loss of functionality, misspelled word, or other
problem where an easy workaround exists </td></tr>
<tr><th>Enhancement</th><td>Request for enhancement</td></tr>
</table> 

</td><td valign="top">

<h3 align="center" id="priority">Priority</h3>
This field describes the importance and order in which a bug should be
fixed.  It is utilized by the programmers/engineers to
prioritize their work to be done.  The available priorities are:

<table cellspacing="3">
<tr><th>P1</th><td>Most important</td></tr>
<tr><th>P2</th><td></td></tr>
<tr><th>P3</th><td>Least important</td></tr>
</table>

</td></tr>
</table>


<h3><a name="assigned_to">Assigned To</a></h3>

<p>This is the person in charge of resolving the bug.  Every time this
field changes, the status changes to NEW to make it easy to see
which new bugs have appeared on a person's list.</p>


<h3>Keywords</h3>

<p>These are used to further classify the problem reports. Follow the link
for a <a href="http://gcc.gnu.org/bugzilla/describekeywords.cgi">complete
list of the keywords including descriptions</a>.</p>


<h2>Procedures and Policies</h2>

<p><strong>Putting reports in components "C", "C++", and "optimization" in
state "NEW"</strong> requires that there is a reduced, small testcase.
This makes sure that all NEW reports are really analyzed and are ready to
be handed off to the people actually fixing bugs.</p>

<p><a name="regression"><strong>Regressions</strong></a> should be explicitly
marked as such.  The summary line should read</p>

<blockquote>
[<em>branches-to-fix</em> regression] <em>rest-of-summary</em>
</blockquote>

<p>where <em>branches-to-fix</em> is the list of maintained
branches (separated by slashes) that need fixing. In addition the target
milestone should be set accordingly. A regression should start with
severity "<strong>critical</strong>" to bring it to attention. It may
be downgraded later if a defect is not important enough to justify
"critical" severity.</p>

<p><strong>Bugs with keyword "ice-on-invalid-code"</strong>, where GCC
emits a sensible error message before issuing an ICE (the ICE will be
replaced by the message "confused by earlier errors, bailing out" in
release versions) should get "minor" severity and the additional keyword
"error-recovery".</p>

<p><strong>Bugs in component "bootstrap"</strong> that refer to older
releases or snapshots/CVS versions should be put into state "WAITING",
asking the reporter whether she can still reproduce the problem and to
report her findings in any case (whether positive or negative).</p>

<ul>
<li>If the response is "works now", close the report,</li>
<li>if the reponse is "still broken", change the state to "NEW", and</li>
<li>if no response arrives, close the PR after three months.</li>
</ul>

<p><strong>Bugs that are in state "WAITING"</strong> because they lack
information that is necessary for reproducing the problem can be closed
if no response was received for three months.</p>


</body>
</html>
