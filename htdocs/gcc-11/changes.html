<!DOCTYPE html>
<html lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>GCC 11 Release Series &mdash; Changes, New Features, and Fixes</title>
<link rel="stylesheet" type="text/css" href="https://gcc.gnu.org/gcc.css" />
</head>

<!-- GCC maintainers, please do not hesitate to contribute/update
     entries concerning those part of GCC you maintain!
-->

<body>
<h1>GCC 11 Release Series<br/>Changes, New Features, and Fixes</h1>

<p>
This page is a "brief" summary of some of the huge number of improvements
in GCC 11.
<!--
You may also want to check out our
<a href="porting_to.html">Porting to GCC 11</a> page and the
<a href="../onlinedocs/index.html#current">full GCC documentation</a>.
-->
</p>

<p>Note: GCC 11 has not been released yet, so this document is
a work-in-progress.</p>

<!-- .................................................................. -->
<h2>Caveats</h2>
<ul>
  <li>The default mode for C++ is now <code>-std=gnu++17</code> instead of
      <code>-std=gnu++14</code>.</li>

  <li>Naming and location of auxiliary and dump output files changed.
      If you compile multiple input files in a single command, if you
      enable Link Time Optimization, or if you use <code>-dumpbase</code>,
      <code>-dumpdir</code>, <code>-save-temps=*</code>, and you expect
      any file other than the
      primary output file(s) to be created as a side effect, watch out
      for improvements and a few surprises.
      See <a href="https://gcc.gnu.org/pipermail/gcc-patches/2020-May/546494.html">the
      patch</a>, particularly its textual description, for more
      details about the changes.</li>

  <li><code>-gsplit-dwarf</code> no longer enables debug info generation
      on its own but requires a separate <code>-g</code> for this.</li>
</ul>


<!-- .................................................................. -->
<h2 id="general">General Improvements</h2>

<ul>
  <li>
    <a href="https://github.com/google/sanitizers/wiki/ThreadSanitizerCppManual">
    ThreadSanitizer</a> improvements to support alternative runtimes and
    environments. The <a href="https://www.kernel.org/doc/html/latest/dev-tools/kcsan.html">
    Linux Kernel Concurrency Sanitizer (KCSAN)</a> is now supported.
    <ul>
      <li>Add <code>--param tsan-distinguish-volatile</code> to optionally emit
          instrumentation distinguishing volatile accesses.</li>
      <li>Add <code>--param tsan-instrument-func-entry-exit</code> to optionally
          control if function entries and exits should be instrumented.</li>
    </ul>
  </li>
</ul>

<!-- .................................................................. -->
<h2 id="languages">New Languages and Language specific improvements</h2>

<ul>
  <li>GCC 11 adds support for non-rectangular loop nests in OpenMP
      constructs and the allocator routines of
      <a href="https://www.openmp.org/specifications/">OpenMP 5.0</a>.
      For Fortran, OpenMP 4.5 is now finally fully supported and OpenMP 5.0
      support has been extended, including the following features which were
      before only available in C and C++: <code>order(concurrent)</code>,
      <code>lastprivate</code> with <code>conditional</code> modifier,
      <code>if</code> clause with <code>simd</code> and <code>cancel</code>
      modifiers, <code>target data</code> without <code>map</code> clause,
      and limited support for the <code>requires</code> construct.
  </li>
</ul>

<!-- <h3 id="ada">Ada</h3> -->

<!-- <h3 id="brig">BRIG (HSAIL)</h3> -->

<!-- <h3 id="c-family">C family</h3> -->

<h3 id="cxx">C++</h3>
<ul>
  <li>The default mode has been changed to <code>-std=gnu++17</code>.</li>
  <li>Several C++20 features have been implemented:
    <ul>
      <li>the compiler now supports <code>consteval virtual</code> functions</li>
      <li>P2082R1, Fixing CTAD for aggregates</li>
      <li>P0593R6, Pseudo-destructors end object lifetimes</li>
      <li>P1907R1: Inconsistencies with non-type template parameters (complete
	  implementation)</li>
    </ul>
  </li>
  <li>Several C++ Defect Reports have been resolved, e.g.:
    <ul>
      <li>DR 1512, Pointer comparison vs qualification conversions</li>
      <li>DR 2032, Default <i>template-arguments</i> of variable templates</li>
      <li>DR 2289, Uniqueness of decomposition declaration names</li>
      <li>DR 2237, Can a <i>template-id</i> name a constructor?</li>
    </ul>
  </li>
  <li>G++ now performs better access checking in templates
      (<a href="https://gcc.gnu.org/PR41437">PR41437</a>).</li>
  <li><code>reinterpret_casts</code>s in constexpr evaluation are now checked
      more completely (<a href="https://gcc.gnu.org/PR95307">PR95307</a>).</li>
</ul>

<!-- <h4 id="libstdcxx">Runtime Library (libstdc++)</h4> -->

<!-- <h3 id="fortran">Fortran</h3> -->

<!-- <h3 id="go">Go</h3> -->

<!-- .................................................................. -->
<!-- <h2 id="jit">libgccjit</h2> -->

<!-- .................................................................. -->
<h2 id="targets">New Targets and Target Specific Improvements</h2>

<!-- <h3 id="aarch64">AArch64</h3> -->

<!-- <h3 id="arc">ARC</h3> -->

<!-- <h3 id="arm">ARM</h3> -->

<!-- <h3 id="avr">AVR</h3> -->

<!-- <h3 id="hsa">Heterogeneous Systems Architecture</h3> -->

<h3 id="x86">IA-32/x86-64</h3>
<ul>
  <li>New ISA extension support for Intel TSXLDTRK was added to GCC.
      TSXLDTRK intrinsics are available via the <code>-mtsxldtrk</code>
      compiler switch.
  </li>
  <li>New ISA extension support for Intel SERIALIZE was added to GCC.
      SERIALIZE intrinsics are available via the <code>-mserialize</code>
      compiler switch.
  </li>
</ul>


<!-- <h3 id="mips">MIPS</h3> -->

<!-- <h3 id="mep">MeP</h3> -->

<!-- <h3 id="msp430">MSP430</h3> -->

<!-- <h3 id="nds32">NDS32</h3> -->

<!-- <h3 id="nios2">Nios II</h3> -->

<!-- <h3 id="nvptx">NVPTX</h3> -->

<!-- <h3 id="hppa">PA-RISC</h3> -->

<!-- <h3 id="powerpc">PowerPC / PowerPC64 / RS6000</h3> -->

<!-- <h3 id="s390">S/390, System z, IBM z Systems</h3> -->

<!-- <h3 id="riscv">RISC-V</h3> -->

<!-- <h3 id="rx">RX</h3> -->

<!-- <h3 id="sh">SH</h3> -->

<!-- <h3 id="sparc">SPARC</h3> -->

<!-- <h3 id="Tile">Tile</h3> -->

<!-- .................................................................. -->
<h2 id="os">Operating Systems</h2>

<!-- <h3 id="aix">AIX</h3> -->

<!-- <h3 id="fuchsia">Fuchsia</h3> -->

<!-- <h3 id="dragonfly">DragonFly BSD</h3> -->

<!-- <h3 id="freebsd">FreeBSD</h3> -->

<!-- <h3 id="gnulinux">GNU/Linux</h3> -->

<!-- <h3 id="rtems">RTEMS</h3> -->

<!-- <h3 id="solaris">Solaris</h3> -->

<!-- <h3 id="vxmils">VxWorks MILS</h3> -->

<!-- <h3 id="windows">Windows</h3> -->


<!-- .................................................................. -->
<!-- <h2>Documentation improvements</h2> -->


<!-- .................................................................. -->
<!-- <h2 id="plugins">Improvements for plugin authors</h2> -->

<!-- .................................................................. -->
<!-- <h2>Other significant improvements</h2> -->


<!-- .................................................................. -->
<!-- <h2><a id="GCC11.1">GCC 11.1</a></h2> -->

</body>
</html>
