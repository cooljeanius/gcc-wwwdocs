<html>

<head>
<title>GCC 3.2 Changes, New Features, and Fixes</title>
</head>

<!-- GCC maintainers, please do not hesitate to update/contribute entries
     concerning those part of GCC you maintain!  2002-03-23, Gerald.
-->

<body>

<!-- Changes for later point releases should be added at the top. -->

<h1>Changes in GCC 3.2.1 (not released yet)</h1>

<h2>C/C++/Objective-C</h2>

 <ul>
    <li>The method of constructing the list of directories to be searched
	for header files has been revised.  If a directory named by a
	<code>-I</code> option is a standard system include directory,
	the option is ignored to ensure that the default search order
	for system directories and the special treatment of system header
	files are not defeated.</li>

    <li>The C and Objective-C compilers no longer accept the "Naming
        Types" extension (<code>typedef foo = bar</code>); it was
        already unavailable in C++.  Code which uses it will need to
        be changed to use the "typeof" extension instead:
        <code>typedef typeof(bar) foo</code>.  (We have removed this
        extension without a period of deprecation because it has
        caused the compiler to crash since version 3.0 and no one
        noticed until very recently.  Thus we conclude it is not in
        widespread use.)</li>
 </ul>

<h2>New Targets and Target Specific Improvements</h2>

<h3>IA-32</h3>
  <ul>
   <li>Fixed a number of bugs in SSE and MMX intrinsics.</li>
   <li>Fixed common compiler crashes with SSE instruction set enabled
       (implied by <code>-march=pentium3</code>, <code>pentium4</code>,
        <code>athlon-xp</code>)</li>
   <li>__m128 and __m128i is not 128bit aligned when used in structures.</li>
  </ul>
<h3>x86-64</h3>
 
  <ul>
   <li>A bug whereby the compiler could generate bad code for
       <code>bzero</code> has been fixed.</li>
   <li>ABI fixes (implying ABI incompatibilities with previous version in some
   corner cases)</li>
   <li>Fixed prefetch code generation</li>
  </ul>

<h1>Changes in GCC 3.2</h1>

<h2>Bug Fixes</h2>

<p>See <a
href="http://gcc.gnu.org/ml/gcc/2002-08/msg00405.html">this message</a> for 
a list of bugs fixed in this release.</p>

<h2>Caveats</h2>

  <ul>
    <li>The C++ compiler does not correctly zero-initialize
        pointers-to-data members.  You must explicitly initialize
        them.  For example:
        <pre>
           int S::*m(0);
        </pre>
        will work, but depending on default-initialization to zero
        will not work.  This bug cannot be fixed in GCC 3.2 without
        inducing unacceptable risks.  It will be fixed in GCC 3.3.</li>

    <li>This GCC release is based on the GCC 3.1 sourcebase, and thus has
    all the <a href="../gcc-3.1/changes.html">changes in the GCC 3.1 series</a>.
    In addition, GCC 3.2 has a number of C++ ABI fixes which make its
    C++ compiler generate binary code which is incompatible with the C++
    compilers found in earlier GCC releases, including GCC 3.1 and
    GCC 3.1.1.</li>
  </ul>


<h2>New Languages and Language specific improvements</h2>

<h3>C++</h3>

  <ul>
    <li>There are now no known differences between the C++ ABI
    implemented in GCC and the multi-vendor standard.  We believe that
    the ABI for the C++ standard library is now stable and will not
    change in future versions of the compiler.  However, hard
    experience has taught us to be cautious; it is possible that more
    problems will be found.  It is our intention to make changes to
    the ABI only if they are necessary for correct compilation of C++,
    as opposed to conformance to the ABI documents.</li>

    <li>For details on how to build an ABI compliant compiler for
    GNU/Linux systems, check the <a href="c++-abi.html">common C++ ABI
    page</a>.</li>
  </ul>


</body>
</html>
