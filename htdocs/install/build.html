<html>
<head>
<title>Building egcs </title>
</head>
<body>
<h1 align="center">Building egcs</h1>

<p>Now that egcs is configured, you are ready to build the compiler and
runtime libraries.

<p>We <b>highly</b> recommend that egcs be built using gnu-make; other
versions may work, then again they might not.  To be safe build with gnu-make.

<p><b>Building a native compiler</b>
<p>For a native build issue the command `<code>make bootstrap</code>'.  This 
will build the entire egcs compiler system, which includes the following steps:

<ul>
  <li> Build host tools necessary to build the compiler such as texinfo, bison,
  gperf.<p>

  <li> Build target tools for use by the compiler such as gas, gld, and
  binutils if they have been properly unpacked into the egcs source tree.<p>

  <li> Perform a 3-stage bootstrap of the compiler.<p>

  <li> Perform a comparison test of the stage2 and stage3 compilers.<p>

  <li> Build runtime libraries using the stage3 compiler from the previous
  step.<p>
</ul>

<p>If you are short on disk space you might consider `<code>make 
bootstrap-lean</code>' instead.  This is identical to `<code>make 
bootstrap</code>' except that object files from the stage1 and 
stage2 of the 3-stage bootstrap of the compiler are deleted as 
soon as they are no longer needed.

<p>If you want to save additional space during the bootstrap and in
the final installation as well, you can build the compiler binaries
without debugging information with "make CFLAGS='-O' LIBCFLAGS='-g
-O2' LIBCXXFLAGS='-g -O2 -fno-implicit-templates' bootstrap".  This will save
roughly 40% of disk space both for the bootstrap and the final installation.
(Libraries will still contain debugging information.)

<p>If you used the flag <code>--enable-languages=...</code> to restrict
the compilers to be built, only those you've actually enabled will be
built. This will of course only build those runtime libraries, for
which the particular compiler has been built.  Please note,
that re-defining LANGUAGES when calling `<code>make bootstrap</code>'
<b>*does not*</b> work anymore!

<p><b>Building a cross compiler</b>

<p> We recommend reading the
<a href="http://www.objsw.com/CrossGCC/">
crossgcc FAQ</a> for information about building cross compilers.

<p>For a cross build, issue the command "make cross", which performs the
following steps:
<ul>
  <li> Build host tools necessary to build the compiler such as texinfo, bison,
  gperf.<p>

  <li> Build target tools for use by the compiler such as gas, gld, and
  binutils if they have been properly unpacked into the egcs source tree.<p>

  <li> Build the compiler (single stage only).<p>

  <li> Build runtime libraries using the compiler from the previous
  step.<p>
</ul>

<p>Note that if an error occurs in any step the make process will exit.

<p><b>Building in parallel</b>

<p> If you have a multiprocessor you can use `<code>make bootstrap
MAKE="make -j 2" -j 2</code>' instead of just `<code>make bootstrap</code>'
when building EGCS.  You can use a bigger number instead of two if
you like.  In most cases, it won't help to use a number bigger than
the number of processors in your machine.

<p>
<hr>
<i>Last modified on June 5, 1999.</i>

<!--#include virtual="/glimpsebox.html"-->
</body>
</html>
