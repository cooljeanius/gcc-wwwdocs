<html>
<head>
<meta name="description"
      content="Instructions for read-write access to the GCC CVS repository." />
<meta name="keywords"
      content="GCC, patches, checking in, CVS, SSH" />
<title>Read-write CVS access</title>
</head>

<body>

<h1>Read-write CVS access</h1>

<p>We have read/write access to the CVS repository available for
significant developers. Maintainers are also encouraged to <a
href="bugs/management.html">edit our bugs database</a>.</p>

<hr />
<h2>Contents</h2>
<ol>
  <li><a href="#setup">Setting up your local CVS tree</a></li>
  <li><a href="#checkin">Checking in a change</a></li>
</ol>

<hr />
<h2><a name="setup">Setting up your local CVS tree</a></h2>

<p>Once your account has been set up, check out the GCC sources by setting
<code>CVS_RSH</code> in your environment to "<code>ssh</code>" and issuing
the command</p>

<blockquote><p><code>
cvs -z 9 -d :ext:<i>username</i>@gcc.gnu.org:/cvs/gcc co -P gcc
</code></p></blockquote>

<p>where <i>username</i> is your user name at gcc.gnu.org.</p>

<p>It is also possible to convert an existing CVS tree to use SSH by
replacing all the "Root" files in the local tree with the following
contents:</p>

<blockquote><p><code>
<i>username</i>@gcc.gnu.org:/cvs/gcc
</code></p></blockquote>

<p>To avoid the nuisance of having to supply your passphrase for each
operation, you may want to use <code>ssh-agent</code>(1) and
<code>ssh-add</code>(1).</p>

<p>To avoid messages about (lack of) X11 forwarding, put in your
<samp>$HOME/.ssh/config</samp> an entry like:</p>

<blockquote><p><code>
Host gcc.gnu.org<br />
ForwardX11 no
</code></p></blockquote>

<hr />
<h2><a name="checkin">Checking in a change</a></h2>

<p>When you check in changes to our web pages, they will
automatically be checked out into the web server's data area.</p>

<p>The following is meant to provide a very quick overview of how to
check in a change.  It is not meant to be a replacement for the CVS
manual but instead a supplement.  The CVS manual is distributed as
part of the CVS sources as a texinfo file.  <a
href="http://www.cvshome.org/cyclic/cvs/doc-blandy.html">
http://www.cvshome.org/cyclic/cvs/doc-blandy.html</a> contains a link
to an reasonably simple introduction to CVS.</p>

<p>In all the commands listed below, you can give an explicit list of
filenames to the cvs command.  We recommend you list files explicitly
when performing checkins to avoid accidental checkins and prefer that
each CVS checkin be of a complete, single logical change, which may
affect multiple files.</p>

<ol>
<li>Sync your sources with the master repository via "<code>cvs
update</code>" before attempting a checkin; this will save you a little
time if someone else has modified that file since the last time you
synced your sources.  It will also identify any files in your local
tree that you have modified.</li>

<li>We recommend using "<code>cvs diff</code>" after applying a patch to a
local tree.  Review the output to make sure that only the changes you
wanted to check in will be checked in.</li>

<li>Use "<code>cvs commit</code>" to check in the patch.  You can enter
the log message via the "<code>-m</code>" argument to commit, or wait for
the editor window to appear and enter the log message in the editor
window.</li>

<li>After exiting the editor, CVS will connect to the GCC cvs server
and check in your changes.  When your prompt returns the checkin is
finished.  A message will be sent to the gcc-cvs-wwwdocs mailing
list indicating that a change was made.  CVS will provide a message if
an error occurs and it will not check in any files.</li>
</ol>

</body>
</html>
