<!DOCTYPE html>
<html lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>GCC 14 Release Series &mdash; Changes, New Features, and Fixes</title>
<link rel="stylesheet" type="text/css" href="https://gcc.gnu.org/gcc.css">
</head>

<!-- GCC maintainers, please do not hesitate to contribute/update
     entries concerning those part of GCC you maintain!
-->

<body>
<h1>GCC 14 Release Series<br>Changes, New Features, and Fixes</h1>

<p>
This page is a "brief" summary of some of the huge number of improvements
in GCC 14.
You may also want to check out our
<a href="porting_to.html">Porting to GCC 14</a> page and the
<a href="../onlinedocs/index.html#current">full GCC documentation</a>.
</p>

<p>Note: GCC 14 has not been released yet, so this document is
a work-in-progress.</p>

<!-- .................................................................. -->
<h2>Caveats</h2>
<ul>
  <li><strong>C:</strong>
      Support for the GCC extension, a structure containing a C99 flexible array
      member, or a union containing such a structure, is not the last field of
      another structure, is deprecated. Refer to
      <a href="https://gcc.gnu.org/onlinedocs/gcc/Zero-Length.html">
      Zero Length Arrays</a>.
      Any code relying on this extension should be modifed to ensure that
      C99 flexible array members only end up at the ends of structures.
      Please use the warning option
      <a href="https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wflex-array-member-not-at-end"><code>-Wflex-array-member-not-at-end</code></a> to
      identify all such cases in the source code and modify them.
  </li>
</ul>


<!-- .................................................................. -->
<h2 id="general">General Improvements</h2>

<ul>
  <li id="openmp"><a href="https://gcc.gnu.org/projects/gomp/">OpenMP</a>
  <ul>
    <li>
      The <code>requires</code> directive's <code>unified_address</code>
      requirement is now fulfilled by both AMD GCN and nvptx devices.
      AMD GCN and nvptx devices now support low-latency allocators as
      <a href="https://gcc.gnu.org/onlinedocs/libgomp/Offload-Target-Specifics.html"
      >detailed in the manual</a>. Initial support for pinned-memory
      allocators has been added (<a href="https://gcc.gnu.org/onlinedocs/libgomp/Memory-allocation.html"
      >as detailed in the manual</a>)
    </li>
    <li>OpenMP 5.0: The <code>allocate</code> directive is now
      supported for stack variables in C and Fortran, including the OpenMP 5.1
      <code>align</code> modifier. For Fortran, OpenMP allocators can now be
      used for allocatables and pointers using the <code>allocate</code>
      directive and its OpenMP 5.2 replacement, the <code>allocators</code>
      directive; files using this allocator and all files that might directly
      or indirectly (intrinisic assignment, <code>intent(out)</code>, ...)
      de- or reallocate such-allocated variables must be compiled with the
      <a href="https://gcc.gnu.org/onlinedocs/gfortran/Fortran-Dialect-Options.html#index-fopenmp-allocators"
      ><code>-fopenmp-allocators</code></a> option.
    </li>
    <li>
      OpenMP 5.1: Support was added for collapsing imperfectly nested loops and
      using <code>present</code> as map-type modifier and in
      <code>defaultmap</code>. The <code>indirect</code> clause is now supported
      for C and C++.  The performance of copying strided data from or to nvptx
      devices using the OpenMP 5.1 routine <code>omp_target_memcpy_rect</code>
      has been improved.
    </li>
    <li>
      OpenMP 5.2: The <code>OMP_TARGET_OFFLOAD=mandatory</code> handling has
      been updated for the clarifications and changes of the 5.2 specification.
      For Fortran, the list of directives permitted in Fortran pure procedures
      was extended. Additionally, the spec change has been implemented for
      default implicit mapping of C/C++ pointers pointing to unmapped storage.
      The <code>destroy</code> now optionally accepts the depend object as
      argument.
    </li>
    <li>
      OpenMP 6.0 preview (TR11/TR12): The <code>decl</code> attribute is now
      supported in C++ 11 and the <code>directive</code>, <code>sequence</code>
      and <code>decl</code> attributes are now supported in C 23.
    </li>
    <li>
      The <a href="https://gcc.gnu.org/onlinedocs/libgomp/">GNU Offloading and
      Multi Processing Runtime Library Manual</a> has been updated and extended,
      improving especially the description of <abbr title="internal control
      variables">ICVs</abbr>, memory allocation, environment variables and OpenMP
      routines. On Linux, <a href="https://github.com/numactl/numactl">libnuma</a>
      is now used for allocators requesting the nearest-partition trait as
      detailed in the manual.
    </li>
  </ul>
  </li>
  <li id="openacc"><a href="https://gcc.gnu.org/wiki/OpenACC">OpenACC</a>
  <ul>
    <li>OpenACC 2.7: The <code>self</code> clause was added to be used on
      compute constructs and the <code>default</code> clause for data
      constructs.</li>
  </ul>
  </li>
  <li>For offload-device code generated via OpenMP and OpenACC, the math
      and the Fortran runtime libraries will now automatically be linked,
      when the user or compiler links them on the host side. Thus, it is no
      longer required to explicitly pass <code>-lm</code> and/or
      <code>-lgfortran</code> to the offload-device linker using the <a
      href="https://gcc.gnu.org/onlinedocs/gcc/C-Dialect-Options.html#index-foffload-options"
      ><code>-foffload-options=</code></a> flag.
  </li>
  <li>
    New configure options: <code>--enable-host-pie</code>, to build the
    compiler executables as PIE; and <code>--enable-host-bind-now</code>,
    to link the compiler executables with <code>-Wl,-z,now</code> in order
    to enable additional hardening.
  </li>
  <li>
    New option <code>-fhardened</code>, an umbrella option that enables a set
    of hardening flags.  The options it enables can be displayed using the
    <code>--help=hardened</code> option.
  </li>
  <li>
    New option <code>-fharden-control-flow-redundancy</code>, to
    verify, at the end of functions, that the visited basic blocks
    correspond to a legitimate execution path, so as to detect and
    prevent attacks that transfer control into the middle of
    functions.
  </li>
  <li>
    New type attribute <code>hardbool</code>, for C and Ada.  Hardened
    booleans take user-specified representations for <code>true</code>
    and <code>false</code>, presumably with higher hamming distance
    than standard booleans, and get verified at every use, detecting
    memory corruption and some malicious attacks.
  </li>
  <li>
    New type attribute <code>strub</code> to control stack scrubbing
    properties of functions and variables.  The stack frame used by
    functions marked with the attribute gets zeroed-out upon returning
    or exception escaping.  Scalar variables marked with the attribute
    cause functions contaning or accessing them to get stack scrubbing
    enabled implicitly.
  </li>
  <li>
    New option <code>-finline-stringops</code>, to force inline
    expansion of <code>memcmp</code>, <code>memcpy</code>,
    <code>memmove</code> and <code>memset</code>, even when that is
    not an optimization, to avoid relying on library
    implementations.
  </li>
</ul>
<!-- .................................................................. -->
<h2 id="languages">New Languages and Language specific improvements</h2>

<!-- <h3 id="ada">Ada</h3> -->

<!-- <h3 id="c-family">C family</h3> -->

<h3 id="cxx">C++</h3>

<ul>
  <li>Several C++26 features have been implemented:
    <ul>
      <li><a href="https://wg21.link/P1854R4">P1854R4</a>, Making non-encodable
      string literals ill-formed (<a href="https://gcc.gnu.org/PR110341">PR110341</a>)
      </li>
      <li><a href="https://wg21.link/P2752R3">P2752R3</a>, Static storage for
      braced initializers (<a href="https://gcc.gnu.org/PR110346">PR110346</a>)
      </li>
      <li><a href="https://wg21.link/P2361R6">P2361R6</a>, Unevaluated strings
      (<a href="https://gcc.gnu.org/PR110342">PR110342</a>)
      </li>
      <li><a href="https://wg21.link/P2738R1">P2738R1</a>, constexpr cast from
      <code>void*</code>
      (<a href="https://gcc.gnu.org/PR110344">PR110344</a>)
      </li>
      <li><a href="https://wg21.link/P2741R3">P2741R3</a>, User-generated
      <code>static_assert</code> messages
      (<a href="https://gcc.gnu.org/PR110348">PR110348</a>)
      </li>
      <li><a href="https://wg21.link/P2169R4">P2169R4</a>, Placeholder variables
      with no name
      (<a href="https://gcc.gnu.org/PR110349">PR110349</a>)
      </li>
      <li><a href="https://wg21.link/P2864R2">P2864R2</a>, Removing deprecated
      arithmetic conversion on enumerations</li>
    </ul>
  </li>
  <li>Several C++23 features have been implemented:
    <ul>
      <li><a href="https://wg21.link/P2280R4">P2280R4</a>, Using unknown
      references in constant expressions
      (<a href="https://gcc.gnu.org/PR106650">PR106650</a>)
      </li>
      <li><a href="https://wg21.link/P2564R3">P2564R3</a>,
      <code>consteval</code> needs to propagate up
      (<a href="https://gcc.gnu.org/PR107687">PR107687</a>)
      </li>
    </ul>
  </li>
  <li>Several C++ Defect Reports have been resolved, e.g.:
    <ul>
      <li><a href="https://wg21.link/cwg976">DR 976</a>,
      Deduction for <code>const T&</code> conversion operators</li>
      <li><a href="https://wg21.link/cwg2406">DR 2406</a>,
      <code>[[fallthrough]]</code> attribute and iteration statements</li>
      <li><a href="https://wg21.link/cwg2543">DR 2543</a>,
      <code>constinit</code> and optimized dynamic initialization</li>
    </ul>
  </li>
</ul>

<h4 id="libstdcxx">Runtime Library (libstdc++)</h4>

<ul>
  <li>
    The <code>libstdc++exp.a</code> library now includes all the Filesystem TS
    symbols from the <code>libstdc++fs.a</code> library.
    The experimental symbols for the C++23 <code>std::stacktrace</code> class
    are also in <code>libstdc++exp.a</code>, replacing the
    <code>libstdc++_libbacktrace.a</code> library that GCC 13 provides.
    This means that <code>-lstdc++exp</code> is the only library needed for
    all experimental libstdc++ features.
  </li>
  <li>Improved experimental support for C++20, including:
    <ul>
    <li><code>std::chrono::parse</code>.</li>
    </ul>
  </li>
  <li>Improved experimental support for C++23, including:
    <ul>
    <li>The <code>std::ranges::to</code> function for converting
      ranges to containers.
    </li>
    <li>The <code>&lt;stacktrace&gt;</code> header is supported by default.
    </li>
    <li><code>std::print</code> and <code>std::println</code>
      (requires linking with <code>-lstdc++exp</code> on Windows).
    </li>
    <li>Formatters for <code>std::thread::id</code> and
      <code>std::stacktrace</code>.
    </li>
    <li>Smart pointer adaptors, <code>std::out_ptr</code> and
      <code>std::inout_ptr</code>.
    </li>
    <li>Some range adaptors now support move-only types.</li>
    </ul>
  </li>
  <li>Experimental support for C++26, including:
    <ul>
    <li>Native handles for <code>filebuf</code>, <code>fstream</code>, etc.</li>
    <li>Functions for saturation arithmetic on integers.</li>
    <li><code>std::to_string</code> now uses <code>std::format</code>.</li>
    <li>Enhanced formatting of pointers with <code>std::format</code>.</li>
    <li>Testable result types for <code>&lt;charconv&gt;</code> functions.</li>
    </ul>
  </li>
  <li>Faster numeric conversions using <code>std::to_string</code> and
    <code>std::to_wstring</code>.
  </li>
  <li>Updated parallel algorithms that are compatible with oneTBB.</li>
  <li><code>std::numeric_limits&lt;_Float32&gt;</code> and
    <code>std::numeric_limits&lt;_Float64&gt;</code> are now defined
    for all standard modes, not only for C++23.
  </li>
  <li>Added missing functions for <code>float</code> and
    <code>long double</code> to <code>&lt;cmath&gt;</code>.
  </li>
  <li>Using the <code>std::setfill</code> manipulator with
    <code>std::istream</code> is deprecated.
  </li>
</ul>

<!-- <h3 id="d">D</h3> -->

<!-- <h3 id="fortran">Fortran</h3> -->

<!-- <h3 id="go">Go</h3> -->

<!-- .................................................................. -->
<!-- <h2 id="jit">libgccjit</h2> -->

<!-- .................................................................. -->
<h2 id="targets">New Targets and Target Specific Improvements</h2>

<!-- <h3 id="aarch64">AArch64</h3> -->

<h3 id="amdgcn">AMD Radeon (GCN)</h3>

<ul>
  <li>Improved register usage and performance on CDNA Instinct MI100
    and MI200 series devices.</li>
  <li>The default device architecture is now <code>gfx900</code> (Vega).</li>
  <li>
    Fiji (gfx803) device support is now deprecated and will be removed from
    a future release.  The default compiler configuration no longer uses Fiji
    as the default device, and no longer includes the Fiji libraries.  Both can
    be restored by configuring with
    <a href="https://gcc.gnu.org/install/specific.html#amdgcn-x-amdhsa">
      <code>--with-arch=fiji</code>
    </a>.
  </li>
</ul>

<!-- <h3 id="arc">ARC</h3> -->

<!-- <h3 id="arm">arm</h3> -->

<!-- <h3 id="avr">AVR</h3> -->

<h3 id="x86">IA-32/x86-64</h3>
<ul>
  <li>New compiler option <code>-m[no-]evex512</code> was added.
      The compiler switch enables/disables 512 bit vector and 64 bit mask
      register. It will be default on if AVX512F is enabled.
  </li>
  <li>New ISA extension support for Intel AVX-VNNI-INT16 was added.
      AVX-VNNI-INT16 intrinsics are available via the <code>-mavxvnniint16</code>
      compiler switch.
  </li>
  <li>New ISA extension support for Intel SHA512 was added.
      SHA512 intrinsics are available via the <code>-msha512</code>
      compiler switch.
  </li>
  <li>New ISA extension support for Intel SM3 was added.
      SM3 intrinsics are available via the <code>-msm3</code>
      compiler switch.
  </li>
  <li>New ISA extension support for Intel SM4 was added.
      SM4 intrinsics are available via the <code>-msm4</code>
      compiler switch.
  </li>
  <li>New ISA extension support for Intel USER_MSR was added.
      USER_MSR intrinsics are available via the <code>-muser_msr</code>
      compiler switch.
  </li>
  <li>GCC now supports the Intel CPU named Clearwater Forest through
    <code>-march=clearwaterforest</code>.
    Based on Sierra Forest, the switch further enables the AVX-VNNI-INT16,
    SHA512, SM3, SM4, USER_MSR and PREFETCHI ISA extensions.
    extensions.
  </li>
  <li>GCC now supports the Intel CPU named Arrow Lake through
    <code>-march=arrowlake</code>.
    Based on Alder Lake, the switch further enables the AVX-IFMA,
    AVX-VNNI-INT8, AVX-NE-CONVERT and CMPccXADD ISA extensions.
  </li>
  <li>GCC now supports the Intel CPU named Arrow Lake S through
    <code>-march=arrowlake-s</code>.
    Based on Arrow Lake, the switch further enables the AVX-VNNI-INT16, SHA512,
    SM3 and SM4 ISA extensions.
  </li>
  <li>GCC now supports the Intel CPU named Lunar Lake through
    <code>-march=lunarlake</code>.
    Lunar Lake is based on Arrow Lake S.
  </li>
  <li>GCC now supports the Intel CPU named Panther Lake through
    <code>-march=pantherlake</code>.
    Based on Arrow Lake S, the switch further enables the PREFETCHI ISA
    extensions.
  </li>
</ul>

<!-- <h3 id="mcore">MCore</h3> -->
<ul>
  <li>Bitfields are now signed by default per GCC policy.  If you need bitfields
    to be unsigned, then use <code>-funsigned-bitfields</code>
  </li>
</ul>

<!-- <h3 id="mips">MIPS</h3> -->

<!-- <h3 id="mep">MeP</h3> -->

<!-- <h3 id="msp430">MSP430</h3> -->

<!-- <h3 id="nds32">NDS32</h3> -->

<!-- <h3 id="nios2">Nios II</h3> -->

<!-- <h3 id="nvptx">NVPTX</h3> -->

<!-- <h3 id="hppa">PA-RISC</h3> -->

<!-- <h3 id="powerpc">PowerPC / PowerPC64 / RS6000</h3> -->

<!-- <h3 id="s390">S/390, System z, IBM z Systems</h3> -->

<!-- <h3 id="riscv">RISC-V</h3> -->

<!-- <h3 id="rx">RX</h3> -->

<!-- <h3 id="sh">SH</h3> -->

<!-- <h3 id="sparc">SPARC</h3> -->

<!-- <h3 id="Tile">Tile</h3> -->

<!-- .................................................................. -->
<h2 id="os">Operating Systems</h2>

<!-- <h3 id="aix">AIX</h3> -->

<!-- <h3 id="fuchsia">Fuchsia</h3> -->

<!-- <h3 id="dragonfly">DragonFly BSD</h3> -->

<!-- <h3 id="freebsd">FreeBSD</h3> -->

<!-- <h3 id="gnulinux">GNU/Linux</h3> -->

<!-- <h3 id="rtems">RTEMS</h3> -->

<!-- <h3 id="solaris">Solaris</h3> -->

<!-- <h3 id="vxmils">VxWorks MILS</h3> -->

<!-- <h3 id="windows">Windows</h3> -->


<!-- .................................................................. -->
<!-- <h2>Documentation improvements</h2> -->

<!-- .................................................................. -->
<!-- <h2 id="plugins">Improvements for plugin authors</h2> -->

<!-- .................................................................. -->
<h2>Other significant improvements</h2>

<!-- <h3 id="uninitialized">Eliminating uninitialized variables</h3> -->

<!-- .................................................................. -->
<!-- <h2 id="14.1">GCC 14.1</a></h2> -->

</body>
</html>
