<html>

<head>
<title>Status of C99 features in GCC</title>
</head>

<body>
<h1>Status of C99 features in GCC</h1>

<p>This table is based on the list in the foreword to the FDIS plus
N894.</p>

<p>Where "Library Issue" is listed in conjunction with some other
status, this means that some compiler support is needed for the
library support, or desirable in conjunction with it.</p>

<p>See below the table for further notes on some issues.

<table border>
<tr><th>Feature</th>
    <th>Library Issue</th>
    <th>Done</th>
    <th>Broken</th>
    <th>Missing</th>
    <th>Unknown</th>
</tr>

<tr><td><em>digraphs and iso646.h</em></td>
    <td></td>
    <td>Done</td><td></td><td></td><td></td>
</tr>

<tr><td><em>wchar.h and wctype.h</em></td>
    <td>Library Issue</td>
    <td></td><td></td><td>Missing</td><td></td>
</tr>

<tr><td><em>more precise aliasing rules via effective type</em></td>
    <td></td><td>Done</td>
    <td></td><td></td><td></td>
</tr>

<tr><td><em>restricted pointers</em></td>
    <td></td><td>Done</td>
    <td></td><td></td><td></td>
</tr>

<tr><td><em>variable-length arrays</em></td>
    <td></td><td></td><td>Broken</td>
    <td></td><td></td>
</tr>

<tr><td><em>flexible array members</em></td>
    <td></td><td></td><td></td><td>Missing</td>
    <td></td>
</tr>

<tr><td><em>static and type qualifiers in parameter array declarators</em></td>
    <td></td><td></td><td></td><td>Missing</td>
    <td></td>
</tr>

<tr><td><em>complex</em></td>
    <td></td><td></td><td>Broken</td>
    <td></td><td></td>
</tr>

<tr><td><em>tgmath.h</em></td>
    <td>Library Issue</td>
    <td>Done</td><td></td><td></td><td></td>
</tr>

<tr><td><em>long long</em></td>
    <td></td><td>Done</td>
    <td></td><td></td><td></td>
</tr>

<tr><td><em>increased limits</em></td>
    <td></td><td>Done</td>
    <td></td><td></td><td></td>
</tr>

<tr><td><em>additional floating-point characteristics in float.h</em></td>
    <td></td><td></td>
    <td></td><td>Missing</td><td></td>
</tr>

<tr><td><em>removed implicit int</em></td>
    <td></td><td>Done</td>
    <td></td><td></td><td></td>
</tr>

<tr><td><em>reliable integer divisions</em></td>
    <td></td><td>Done</td><td></td><td></td><td></td>
</tr>

<tr><td><em>UCS names</em></td>
    <td></td><td></td><td></td><td>Missing</td>
    <td></td>
</tr>

<tr><td><em>extended identifiers</em></td>
    <td></td><td></td><td></td><td>Missing</td><td></td>
</tr>

<tr><td><em>binary floating point literals +<br>printf support</em></td>
    <td>Library Issue</td><td>Done</td>
    <td></td><td></td><td></td>
</tr>

<tr><td><em>compound literals</em></td>
    <td></td><td></td><td>Broken</td>
    <td></td><td></td>
</tr>

<tr><td><em>designated initializers</em></td>
    <td></td><td></td><td>Broken</td>
    <td></td><td></td>
</tr>

<tr><td><em>//comments</em></td>
    <td></td><td>Done</td>
    <td></td><td></td><td></td>
</tr>

<tr><td><em>inttypes.h</em></td>
    <td>Library Issue</td>
    <td></td><td></td><td></td><td></td>
</tr>

<tr><td><em>stdint.h</em></td>
    <td></td>
    <td></td><td></td><td>Missing</td><td></td>
</tr>

<tr><td><em>remove implicit function declaration</em></td>
    <td></td><td>Done</td>
    <td></td><td></td><td></td>
</tr>

<tr><td><em>preprocessor arithmetic<br>done in intmax_t/uintmax_t</em></td>
    <td></td><td></td><td>Broken</td><td></td><td></td>
</tr>

<tr><td><em>mixed declarations and code</em></td>
    <td></td><td></td><td></td><td>Missing</td>
    <td></td>
</tr>

<tr><td><em>new block scopes for selection and iteration statements</em></td>
    <td></td><td></td><td></td><td>Missing</td>
    <td></td>
</tr>

<tr><td><em>integer constant type rules</em></td>
    <td></td><td></td><td></td><td>Missing</td><td></td>
</tr>

<tr><td><em>integer promotion rules</em></td>
    <td></td><td></td><td></td><td>Missing</td><td></td>
</tr>

<tr><td><em>vararg macros</em></td>
    <td></td><td>Done</td>
    <td></td><td></td><td></td>
</tr>

<tr><td><em>vscanf</em></td>
    <td>Library Issue</td>
    <td></td><td></td><td>Missing</td><td></td>
</tr>

<tr><td><em>additional math library functions</em></td>
    <td>Library Issue</td>
    <td></td><td></td><td>Missing</td><td></td>
</tr>

<tr><td><em>floating-point environment access<br>in fenv.h</em></td>
    <td>Library Issue</td>
    <td></td><td></td><td></td><td></td>
</tr>

<tr><td><em>IEC 60559</em></td>
    <td></td><td></td><td>Broken</td><td></td><td></td>
</tr>

<tr><td><em>trailing comma allowed in enum declaration</em></td>
    <td></td><td>Done</td>
    <td></td><td></td><td></td>
</tr>

<tr><td><em>%lf conversion specifier<br>allowed in printf</em></td>
    <td>Library Issue</td><td></td><td></td><td>Missing</td><td></td>
</tr>

<tr><td><em>inline functions</em></td>
    <td></td><td></td><td>Broken</td>
    <td></td><td></td>
</tr>

<tr><td><em>snprintf</em></td>
    <td>Library Issue</td>
    <td></td><td></td><td>Missing</td><td></td>
</tr>

<tr><td><em>boolean type in stdbool.h</em></td>
    <td></td>
    <td></td><td>Broken</td><td></td><td></td>
</tr>

<tr><td><em>idempotent type qualifiers</em></td>
    <td></td><td>Done</td><td></td><td></td><td></td>
</tr>

<tr><td><em>empty macro arguments</em></td>
    <td></td><td>Done</td><td></td><td></td><td></td>
</tr>

<tr><td><em>new struct type compatibility<br>rules (tag compatibility)</em></td>
    <td></td><td>Done</td><td></td><td></td><td></td>
</tr>

<tr><td><em>_Pragma preprocessing operator</em></td>
    <td></td><td></td><td></td><td>Missing</td>
    <td></td>
</tr>

<tr><td><em>standard pragmas</em></td>
    <td></td><td></td><td></td><td>Missing</td>
    <td></td>
</tr>

<tr><td><em>__func__ predefined identifier</em></td>
    <td></td><td>Done</td>
    <td></td><td></td><td></td>
</tr>

<tr><td><em>va_copy macro</em></td>
    <td></td><td>Done</td><td></td><td></td>
    <td></td>
</tr>

<tr><td><em>additional strftime conversion specifiers</em></td>
    <td>Library Issue</td><td></td><td></td><td>Missing</td>
    <td></td>
</tr>

<tr><td><em>deprecate ungetc at the<br>beginning of a binary file</em></td>
    <td>Library Issue</td>
    <td></td><td></td><td></td><td></td>
</tr>

<tr><td><em>remove deprecation of<br>aliased array parameters</em></td>
    <td></td><td>Done</td>
    <td></td><td></td><td></td>
</tr>

<tr><td><em>conversion of non-lvalue array to pointer</em></td>
    <td></td><td></td>
    <td></td><td>Missing</td><td></td>
</tr>

<tr><td><em>relaxed constraints on aggregate<br>and union initialization</em></td>
    <td></td><td></td>
    <td>Broken</td><td></td><td></td>
</tr>

<tr><td><em>relaxed restrictions on portable header names</em></td>
    <td></td><td></td>
    <td>Broken</td><td></td><td></td>
</tr>

<tr><td><em>return without expression not permitted in<br>function that returns a value</em></td>
    <td></td><td>Done</td>
    <td></td><td></td><td></td>
</tr>

<tr><th>Feature</th>
    <th>Library Issue</th>
    <th>Done</th>
    <th>Broken</th>
    <th>Missing</th>
    <th>Unknown</th>
</tr>
</table>

<h2>Further notes</h2>

<ul>

<li>cpp has no support for multibyte character sets.

<li>cpp arithmetic is done in <code>HOST_WIDEST_INT</code>, which may not
be the same as the target <code>intmax_t</code> required by C99.

<li>IEC 60559 is IEEE 751 floating point.  This works if and only if
the hardware is perfectly compliant, but GCC does not define
<code>__STDC_IEC_559__</code> or implement the associated standard
pragmas.

<li>Various aspects of the <code>printf</code>, <code>scanf</code> and
<code>strftime</code> format checking aren't quite right for the different
standards versions.

<li>Compiler support is needed for <code>math_errhandling</code>; see
messages <a
href="http://sources.redhat.com/ml/libc-hacker/2000-06/msg00008.html">1</a>,
<a
href="http://sources.redhat.com/ml/libc-hacker/2000-06/msg00014.html">2</a>,
<a
href="http://sources.redhat.com/ml/libc-hacker/2000-06/msg00015.html">3</a>
on this subject to libc-hacker.

<li>GCC's <code>&lt;stdbool.h&gt;</code> is based on an old draft; the
compiler needs an internal <code>_Bool</code> type.

<li>In some places, <code>-pedantic</code> warnings don't take proper
account of the standard version selected.

<li><code>__func__</code> should not take part in string concatenation.

<li>GCC doesn't have <code>wprintf</code>, <code>wscanf</code> and
<code>wcsftime</code> format checking support.

<li>Non-constant aggregate initializers cause an error (rather than a
warning) with <code>-pedantic</code>, irrespective of the standard
version selected.

<li>complex numbers support is currently broken (how?)

<li>C99 inline implies static

<li>VLA (variable length arrays) differ from the GCC extension (what
difference)?

<li>compound array initialization does not support variables

</ul>

</body>
</html>
