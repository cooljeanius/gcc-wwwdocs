--- /home/tromey/gnu/Nightly/classpath/classpath/gnu/java/net/protocol/file/Connection.java	2004-02-12 02:21:39.000000000 -0700
+++ gnu/java/net/protocol/file/Connection.java	2004-01-07 02:18:21.000000000 -0700
@@ -50,10 +50,6 @@
 import java.net.URL;
 import java.net.URLConnection;
 import java.security.Permission;
-import java.util.AbstractSet;
-import java.util.Iterator;
-import java.util.Set;
-import java.util.NoSuchElementException;
 
 /**
  * This subclass of java.net.URLConnection models a URLConnection via
@@ -211,105 +207,4 @@
   {
     return permission;
   }
-
-  /**
-   * Does the resource pointed to actually exist?
-   */
-  public final boolean exists()
-  {
-    if (file == null)
-      return false;
-
-    return file.exists();
-  }
-
-  /**
-   * Is the resource pointed to a directory?
-   */
-  public final boolean isDirectory()
-  {
-    return file.isDirectory();
-  }
-  
-  /**
-   * Get a listing of the directory, if it is a directory.
-   *
-   * @return a set which can supply an iteration of the
-   * contents of the directory.
-   *
-   * @throws IllegalStateException if this is not pointing
-   * to a directory.
-   */
-  public Set getListing()
-  {
-    if (!file.isDirectory())
-      throw new IllegalStateException ("this is not a directory");
-    
-    final File[] directoryList = file.listFiles();
-    return new AbstractSet()
-      {
-	File[] dirList = directoryList;
-
-	public int size()
-	{
-	  return dirList.length;
-	}
-
-	public Iterator iterator()
-	{
-	  return new Iterator()
-	    {
-	      int index = 0;
-
-	      public boolean hasNext()
-	      {
-		return index < dirList.length;
-	      }
-
-	      public Object next()
-	      {
-		try
-		  {
-		    String value = dirList [index++].getName();
-		    return value;
-		  }
-		catch (ArrayIndexOutOfBoundsException e)
-		  {
-		    throw new NoSuchElementException ("no more content");
-		  }
-	      }
-
-	      public void remove()
-	      {
-		try
-		  {
-		    File[] newDirList = new File [dirList.length - 1];
-		    int realIndex = index - 1;
-                    
-		    if (realIndex < 1)
-		      {
-			System.arraycopy (dirList, 1, newDirList, 0,
-                                          dirList.length - 1);
-			index--;
-		      }
-		    else
-		      {
-			System.arraycopy (dirList, 0, newDirList, 0, realIndex);
-                        
-			if (index < dirList.length - 1)
-			  System.arraycopy (dirList, index,
-					    newDirList, realIndex,
-                                            dirList.length - realIndex);
-		      }
-		    dirList = newDirList;
-		  }
-		catch (ArrayIndexOutOfBoundsException e)
-		  {
-		    throw new NoSuchElementException("no more content");
-		  }
-	      }
-	    };
-	}
-      };
-  }
 }
