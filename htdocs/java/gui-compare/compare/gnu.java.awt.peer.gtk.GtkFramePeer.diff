--- /home/tromey/gnu/Nightly/classpath/classpath/gnu/java/awt/peer/gtk/GtkFramePeer.java	2004-07-31 02:26:41.000000000 -0600
+++ gnu/java/awt/peer/gtk/GtkFramePeer.java	2004-07-31 02:23:13.000000000 -0600
@@ -143,11 +143,20 @@
 
     setTitle (frame.getTitle ());
     setResizable (frame.isResizable ());
+    setIconImage(frame.getIconImage());
   }
 
+  native void nativeSetIconImage (GdkPixbufDecoder decoder);
   public void setIconImage (Image image) 
   {
-      /* TODO: Waiting on Toolkit Image routines */
+      if (image != null)
+        {
+          GtkImage img = (GtkImage) image;
+          // FIXME: Image should be loaded, but if not, do image loading here.
+          // Also, can the image source be anything else than GdkPixbufDecoder?
+          if (img.isLoaded() && img.getSource() instanceof GdkPixbufDecoder)
+            nativeSetIconImage((GdkPixbufDecoder) img.getSource());
+        }
   }
 
   public Graphics getGraphics ()
