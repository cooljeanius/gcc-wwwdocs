<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>Using gcjh</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet version 1.13"><LINK
REL="HOME"
TITLE="The Cygnus Native Interface for C++/Java Integration"
HREF="t1.html"><LINK
REL="PREVIOUS"
TITLE="Reflection"
HREF="t1468.html"></HEAD
><BODY
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>The Cygnus Native Interface for C++/Java Integration</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="t1468.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>The Cygnus Native Interface for C++/Java Integration</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
>&nbsp;</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="AEN478"
>Using gcjh</A
></H1
><P
>      The <B
CLASS="COMMAND"
>gcjh</B
> is used to generate C++ header files from
      Java class files.  By default, <B
CLASS="COMMAND"
>gcjh</B
> generates
      a relatively straightforward C++ header file.  However, there
      are a few caveats to its use, and a few options which can be
      used to change how it operates:</P
><P
></P
><DL
><DT
><TT
CLASS="LITERAL"
>--classpath</TT
> <TT
CLASS="REPLACEABLE"
><I
>path</I
></TT
>, <TT
CLASS="LITERAL"
>--CLASSPATH</TT
> <TT
CLASS="REPLACEABLE"
><I
>path</I
></TT
>, <TT
CLASS="LITERAL"
>-I</TT
> <TT
CLASS="REPLACEABLE"
><I
>dir</I
></TT
></DT
><DD
><P
>        These options can be used to set the class path for gcjh.
        Gcjh searches the class path the same way the compiler does;
	these options have their familiar meanings.</P
></DD
><DT
><TT
CLASS="LITERAL"
>-d <TT
CLASS="REPLACEABLE"
><I
>directory</I
></TT
></TT
></DT
><DD
><P
>Puts the generated <TT
CLASS="LITERAL"
>.h</TT
> files
beneath <TT
CLASS="REPLACEABLE"
><I
>directory</I
></TT
>.</P
></DD
><DT
><TT
CLASS="LITERAL"
>-o <TT
CLASS="REPLACEABLE"
><I
>file</I
></TT
></TT
></DT
><DD
><P
>        Sets the name of the <TT
CLASS="LITERAL"
>.h</TT
> file to be generated.
        By default the <TT
CLASS="LITERAL"
>.h</TT
> file is named after the class.
        This option only really makes sense if just a single class file
        is specified.</P
></DD
><DT
><TT
CLASS="LITERAL"
>--verbose</TT
></DT
><DD
><P
>        gcjh will print information to stderr as it works.</P
></DD
><DT
><TT
CLASS="LITERAL"
>-M</TT
>, <TT
CLASS="LITERAL"
>-MM</TT
>, <TT
CLASS="LITERAL"
>-MD</TT
>, <TT
CLASS="LITERAL"
>-MMD</TT
></DT
><DD
><P
>        These options can be used to generate dependency information
        for the generated header file.  They work the same way as the
        corresponding compiler options.</P
></DD
><DT
><TT
CLASS="LITERAL"
>-prepend <TT
CLASS="REPLACEABLE"
><I
>text</I
></TT
></TT
></DT
><DD
><P
>This causes the <TT
CLASS="REPLACEABLE"
><I
>text</I
></TT
> to be put into the generated
        header just after class declarations (but before declaration
        of the current class).  This option should be used with caution.</P
></DD
><DT
><TT
CLASS="LITERAL"
>-friend <TT
CLASS="REPLACEABLE"
><I
>text</I
></TT
></TT
></DT
><DD
><P
>This causes the <TT
CLASS="REPLACEABLE"
><I
>text</I
></TT
> to be put into the class
declaration after a <TT
CLASS="LITERAL"
>friend</TT
> keyword.
This can be used to declare some
        other class or function to be a friend of this class.
        This option should be used with caution.</P
></DD
><DT
><TT
CLASS="LITERAL"
>-add <TT
CLASS="REPLACEABLE"
><I
>text</I
></TT
></TT
></DT
><DD
><P
>The <TT
CLASS="REPLACEABLE"
><I
>text</I
></TT
> is inserted into the class declaration.
This option should be used with caution.</P
></DD
><DT
><TT
CLASS="LITERAL"
>-append <TT
CLASS="REPLACEABLE"
><I
>text</I
></TT
></TT
></DT
><DD
><P
>The <TT
CLASS="REPLACEABLE"
><I
>text</I
></TT
> is inserted into the header file
after the class declaration.  One use for this is to generate
inline functions.  This option should be used with caution.</P
></DD
></DL
><P
>All other options not beginning with a <TT
CLASS="LITERAL"
>-</TT
> are treated
as the names of classes for which headers should be generated.</P
><P
>gcjh will generate all the required namespace declarations and
<TT
CLASS="LITERAL"
>#include</TT
>'s for the header file.
In some situations, gcjh will generate simple inline member
functions.  Note that, while gcjh puts <TT
CLASS="LITERAL"
>#pragma
interface</TT
> in the generated header file, you should
<I
CLASS="EMPHASIS"
>not</I
> put <TT
CLASS="LITERAL"
>#pragma implementation</TT
>
into your C++ source file.  If you do, duplicate definitions of
inline functions will sometimes be created, leading to link-time
errors.</P
><P
>There are a few cases where gcjh will fail to work properly:</P
><P
>gcjh assumes that all the methods and fields of a class have ASCII
names.  The C++ compiler cannot correctly handle non-ASCII
identifiers.  gcjh does not currently diagnose this problem.</P
><P
>gcjh also cannot fully handle classes where a field and a method have
the same name.  If the field is static, an error will result.
Otherwise, the field will be renamed in the generated header; `__'
will be appended to the field name.</P
><P
>Eventually we hope to change the C++ compiler so that these
restrictions can be lifted.</P
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="t1468.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="t1.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>&nbsp;</TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Reflection</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>&nbsp;</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>