--- /home/tromey/gnu/Nightly/classpath/classpath/java/nio/Buffer.java	2004-05-27 02:23:37.000000000 -0600
+++ java/nio/Buffer.java	2004-04-21 02:18:10.000000000 -0600
@@ -148,11 +148,11 @@
     if ((newLimit < 0) || (newLimit > cap))
       throw new IllegalArgumentException ();
 
-    if (newLimit < mark)
+    if (newLimit <= mark)
         mark = -1;
 
     if (pos > newLimit)
-        pos = newLimit;
+        pos = newLimit - 1;
 
     limit = newLimit;
     return this;
