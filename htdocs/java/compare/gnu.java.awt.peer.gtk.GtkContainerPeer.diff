--- /home/tromey/gnu/Nightly/classpath/classpath/gnu/java/awt/peer/gtk/GtkContainerPeer.java	2003-10-07 02:19:35.000000000 -0600
+++ gnu/java/awt/peer/gtk/GtkContainerPeer.java	2003-12-19 02:18:14.000000000 -0700
@@ -107,6 +107,11 @@
 	  try 
 	    {
 	      Graphics g = getGraphics ();
+
+	      // Some peers like GtkFileDialogPeer are repainted by Gtk itself
+	      if (g == null)
+	        break;
+
 	      g.setClip (((PaintEvent)event).getUpdateRect());
 
 	      if (id == PaintEvent.PAINT)
