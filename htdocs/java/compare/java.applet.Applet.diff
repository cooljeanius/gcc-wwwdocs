--- /home/tromey/gnu/Nightly/classpath/classpath/java/applet/Applet.java	2004-09-22 02:30:00.000000000 -0600
+++ java/applet/Applet.java	2004-12-01 02:15:47.000000000 -0700
@@ -78,6 +78,12 @@
   /** The applet stub for this applet. */
   private transient AppletStub stub;
 
+  /** Some applets call setSize in their constructors.  In that case,
+      these fields are used to store width and height values until a
+      stub is set. */
+  private transient int width;
+  private transient int height;
+
   /**
    * The accessibility context for this applet.
    *
@@ -107,6 +113,9 @@
   public final void setStub(AppletStub stub)
   {
     this.stub = stub;
+
+    if (width != 0 && height != 0)
+      stub.appletResize (width, height);
   }
 
   /**
@@ -174,7 +183,13 @@
    */
   public void resize(int width, int height)
   {
-    stub.appletResize(width, height);
+    if (stub == null)
+      {
+        this.width = width;
+        this.height = height;
+      }
+    else
+      stub.appletResize(width, height);
   }
 
   /**
