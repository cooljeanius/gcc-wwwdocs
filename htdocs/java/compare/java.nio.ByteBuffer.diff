--- /home/tromey/gnu/Nightly/classpath/classpath/java/nio/ByteBuffer.java	2003-11-07 02:21:05.000000000 -0700
+++ java/nio/ByteBuffer.java	2003-06-13 02:27:36.000000000 -0600
@@ -278,7 +278,8 @@
    */
   public boolean equals (Object obj)
   {
-    if (obj instanceof ByteBuffer)
+    if (obj != null &&
+        obj instanceof ByteBuffer)
       {
         return compareTo (obj) == 0;
       }
