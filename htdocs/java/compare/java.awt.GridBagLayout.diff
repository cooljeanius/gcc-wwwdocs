--- /home/tromey/gnu/Nightly/classpath/classpath/java/awt/GridBagLayout.java	2003-07-25 02:18:53.000000000 -0600
+++ java/awt/GridBagLayout.java	2003-11-15 02:18:08.000000000 -0700
@@ -229,10 +229,15 @@
      */
     public int[][] getLayoutDimensions ()
     {
+	int[][] result = new int [2][];
 	if (layoutInfo == null)
-	    return new int [2][];
+	  {
+	    result[0] = new int[0];
+	    result[1] = new int[0];
+
+	    return result;
+	  }
 
-	int[][] result = new int [2][];
 	result [0] = new int [layoutInfo.cols];
 	System.arraycopy (layoutInfo.colWidths, 0, result [0], 0, layoutInfo.cols);
 	result [1] = new int [layoutInfo.rows];
@@ -242,10 +247,15 @@
 
     public double[][] getLayoutWeights ()
     {
-	if (layoutInfo == null)
-	    return new double [2][];
-      
 	double[][] result = new double [2][];
+	if (layoutInfo == null)
+	  {
+	    result[0] = new double[0];
+	    result[1] = new double[0];
+
+	    return result;
+	  }
+
 	result [0] = new double [layoutInfo.cols];
 	System.arraycopy (layoutInfo.colWeights, 0, result [0], 0, layoutInfo.cols);
 	result [1] = new double [layoutInfo.rows];
