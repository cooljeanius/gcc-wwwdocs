<html>
<title>GCJ - FAQ</title>
<body bgcolor="white">

<table border=0>
<tr><td valign="top">

<table border=0>
<tr><td>
<img src="gcj.jpg" alt="gcj logo" width=136 height=98>
</td></tr>
<tr>
<td>
<br>
<table border=0><tr><td width="10"></td><td>
<a href="index.html">Home</a><br>
<a href="faq.html">FAQ</a><br>
<a href="mail.html">Mailing Lists</a><br>
<a href="docs.html">Documentation</a><br>
<a href="download.html">Download</a><br>
<a href="contrib.html">Contributing</a><br>
<a href="/cgi-bin/gnatsweb.pl?user=guest&password=guest&database=java&cmd=login">Bugs</a><br>
<a href="thanks.html">Thanks</a><br>
<!-- <a href="support.html">Support</a><br> -->
<br><br><br>
<a href="http://gcc.gnu.org/">GCC</a><br>
<a href="/mauve">The Mauve Project</a><br>
<a href="/">Sources.redhat.com</a><br>
<a href="http://www.gnu.org">The GNU Project</a><br>
<a href="http://www.redhat.com">Red Hat</a><br>
</td></tr></table>
</td></tr></table>

</td>

<td width=2 bgcolor="black">
i
</td>
<td width=6>
</td>

<td>

<br><br>
<h1>The GCJ FAQ</h1>

<P>The latest version of this document is always available at
<A HREF="faq.html">http://sources.redhat.com/java/faq.html</A>.</P>

<OL>
   <LI><A HREF="#1_0">General Questions</A>
   <OL>
      <LI><A HREF="#1_1">What license is used for libgcj?</A>
      <LI><A HREF="#1_2">How can I report a bug in libgcj?</A>
      <LI><A HREF="#1_3">How can I contribute to libgcj?</A>
      <LI><A HREF="#1_4">Why isn't libgcj part of GCC?</A>
      <LI><A HREF="#1_5">Will gcj and libgcj work on my machine?</A>
      <LI><A HREF="#1_6">How can I debug my Java program?</A>
   </OL>
   <LI><A HREF="#2_0">Build Issues</A>
   <OL>
      <LI><A HREF="#2_1">Linker bug on Solaris</A>
   </OL>
   <LI><A HREF="#3_0">Gcj Compile/Link Questions</A>
   <OL>
      <LI><A HREF="#3_1">Why do I get <tt>undefined reference to `main'</tt> errors?</A>
   </OL>
   <LI><A HREF="#4_0">Runtime Questions</A>
   <OL>
      <LI><A HREF="#4_1">My program is dumping core!  What's going on?</A>
      <LI><A HREF="#4_2">When I run the debugger I get a SEGV in the GC!  What's going on?</A>
   </OL>
</OL>

<table border="0" cellpadding="4" width="95%">
<tr bgcolor="#b0d0ff">
 <th align="left">
 <A NAME="1_0"><h2>General Questions</h2></A>
 </th>
</tr>
</table>
<br>

    <dl>
      <dt><h3><a name="1_1">1.1 What license is used for libgcj?</a></h3></dt>
      <p>
      <dd>libgcj is distributed under the Library GPL.</dd>
      </p>

      <dt><hr><h3><a name="1_2">1.2 How can I report a bug in libgcj?</a></h3></dt>
      <p>
      <dd>libgcj has a corresponding
	<a
      href="/cgi-bin/gnatsweb.pl?user=guest&password=guest&database=java&cmd=login">Gnats
	  bug database</a> which you can browse.  You can also submit new
	bug reports from the Gnats page.</dd>
      </p>

      <dt><hr><h3><a name="1_3">1.3 How can I contribute to libgcj?</a></h3></dt>
      <p>
      <dd>You can send simple bug fixes in as patches.  Please follow
	the <a href="http://egcs.cygnus.com/contribute.html">GCC guidelines
	for submitting patches</a>.
	For more complex changes, you must sign copyright over to
	Cygnus.  See the <a href="contrib.html">contribution</a> page
	for details.</dd>
      </p>

      <dt><hr><h3><a name="1_4">1.4 Why isn't libgcj part of GCC?</a></h3></dt>
      <p>
      <dd>Various minor reasons.  It's likely that libgcj will end up
	in GCC at some point in the future.</dd>
      </p>

      <dt><hr><h3><a name="1_5">1.5 Will gcj and libgcj work on my machine?</a></h3></dt>
      <p>
      <dd>So far gcj and libgcj have only really been tried on Sparc
	Solaris and x86 Linux.  They might work on other systems, but
	we don't know.  Generally speaking, porting to a new system
	should not be hard.  This would be a good way to volunteer.</dd>
      </p>

      <dt><hr><h3><a name="1_6">1.6 How can I debug my Java program?</a></h3></dt>
      <p>
      <dd><a href="ftp://ftp.gnu.org/pub/gnu/gdb/gdb-4.18.tar.gz">gdb
	4.18</a> includes support for debugging gcj-compiled Java
	programs.</dd>
      </p>

    </dl>

<table border="0" cellpadding="4" width="95%">
<tr bgcolor="#b0d0ff">
 <th align="left">
 <A NAME="2_0"><h2>Build Issues</h2></A>
 </th>
</tr>
</table>
    <dl>

      <dt><h3><a name="2_1">2.1 Linker bug on Solaris</a></h3></dt>
      <p>
      <dd>There is a known problem with the 
        <a href="http://egcs.cygnus.com/ml/gcc-bugs/1999-10/msg00159.html">
        native Solaris linker</a> when using gcc/gcj.
	A good indication you've run into this problem is if you get
	an error that looks like the following when building libgcj:
	<pre>
ld: warning: option -o appears more than once, first setting taken
ld: fatal: file libfoo.so: cannot open file: No such file or directory
ld: fatal: File processing errors. No output written to .libs/libfoo.so
collect2: ld returned 1 exit status
	</pre>
	A known workaround
	for this and other reported link problems on the various releases
	of Solaris is to build gcc/gcj with the 
        <a href="ftp://sources.redhat.com/pub/binutils/snapshots">
	latest GNU binutils</a> instead of the native Solaris <tt>ld</tt>.
	The most straightforward way to do this is to build and install
	binutils, and then reference it in the configure for gcc
	via <tt>--with-ld=/path_to_binutils_install/bin/ld</tt>
	(<tt>--with-as</tt> may also be similarly
	specified but is not believed to be required).
	<p>
	Please note, gcc/gcj must be built using GNU ld prior to doing
	a clean build of libgcj!
	</dd>
      </p>
    </dl>

<table border="0" cellpadding="4" width="95%">
<tr bgcolor="#b0d0ff">
 <th align="left">
 <A NAME="3_0"><h2>Gcj Compile/Link Questions</h2></A>
 </th>
</tr>
</table>
    <dl>

      <dt><h3><a name="3_1">3.1 Why do I get <tt>undefined reference to `main'</tt> errors?</a></h3></dt>
      <p>
      <dd>When using <tt>gcj</tt> to link a Java program, you must use
        the <tt>--main=</tt> option to indicate the class that has the
	desired <tt>main</tt> method.  This is because every Java class
	can have a <tt>main</tt> method, thus you have to tell gcj which
	one to use.</dd>
      </p>
    </dl>

<table border="0" cellpadding="4" width="95%">
<tr bgcolor="#b0d0ff">
 <th align="left">
 <A NAME="4_0"><h2>Runtime Questions</h2></A>
 </th>
</tr>
</table>
    <dl>

      <dt><h3><a name="4_1">4.1 My program is dumping core!  What's going on?</a></h3></dt>
      <p>
      <dd>I could be any number of things.  One common mistake is 
        having your <tt>CLASSPATH</tt> environment variable pointing
	at a third party's java.lang and friends.  Either
	unset <tt>CLASSPATH</tt>, or make sure it does not refer to 
        core libraries other than those found in libgcj.zip.</dd>
      </p>

      <dt><hr><h3><a name="4_2">4.2 When I run the debugger I get a SEGV in the GC! What's going on?</a></h3></dt>
      <p>
      <dd>This is "normal"; the Garbage Collector (GC) uses it to determine
        stack boundaries.  It is ordinarily caught and handled by the GC --
	you can see this in the debugger by using <tt>cont</tt> to continue
	to the "real" segv.</dd>
      </p>
    </dl>

<br>
</td></tr>
</table>

<hr>

<address>
<a href="about.html">The GCJ team</a>
<br>
<small>
$Id: faq.html,v 1.6 1999/10/25 07:30:12 warrenl Exp $
</small>
</address>

</body>
</html>
