<!DOCTYPE html>
<html lang="en">
<head>
<title>GCC 10 Release Series &mdash; Changes, New Features, and Fixes</title>
</head>

<!-- GCC maintainers, please do not hesitate to contribute/update
     entries concerning those part of GCC you maintain!
-->

<body>
<h1>GCC 10 Release Series<br/>Changes, New Features, and Fixes</h1>

<p>
This page is a "brief" summary of some of the huge number of improvements
in GCC 10.
<!--
You may also want to check out our
<a href="porting_to.html">Porting to GCC 10</a> page and the
<a href="../onlinedocs/index.html#current">full GCC documentation</a>.
-->
</p>

<p>Note: GCC 10 has not been released yet, so this document is
a work-in-progress.</p>

<!-- .................................................................. -->
<h2>Caveats</h2>
<ul>
  <li>
    The deprecated Profile Mode and <code>array_allocator</code> extensions
    have been removed from libstdc++.
  </li>
</ul>


<!-- .................................................................. -->
<h2 id="general">General Improvements</h2>

<p>The following built-in functions have been introduced.</p>
<ul>
  <li><code>__builtin_roundeven</code> for the corresponding function from
    ISO/IEC TS 18661.
  </li>
</ul>

<!-- .................................................................. -->
<h2 id="languages">New Languages and Language specific improvements</h2>

<!-- <h3 id="ada">Ada</h3> -->

<!-- <h3 id="brig">BRIG (HSAIL)</h3> -->

<!-- <h3 id="c-family">C family</h3> -->

<h3 id="cxx">C++</h3>
<ul>
  <li>Several C++20 features have been implemented:
  <ul>
    <li>P1668R1, Permitting Unevaluated inline-assembly in constexpr Functions</li>
    <li>P1161R3, Deprecate <code>a[b,c]</code></li>
    <li>P0848R3, Conditionally Trivial Special Member Functions</li>
    <li>P1091R3, Extending structured bindings</li>
    <li>P1143R2, Adding the <code>constinit</code> keyword</li>
    <li>P1152R4, Deprecating <code>volatile</code></li>
  </ul>  
  </li>
  <li>Several C++ Defect Reports have been resolved, e.g.:
  <ul>
    <li>DR 1560 (lvalue-to-rvalue conversion in <code>?:</code>),</li>
    <li>DR 1813 (<code>__is_standard_layout</code> for a class with repeated
	bases),</li>
    <li>DR 2094 (volatile scalars are trivially copyable),</li>
    <li>DR 2096 (constraints on literal unions),</li>
    <li>DR 2413 (<code>typename</code> in <code> conversion-function-id</code>s).
	</li>
  </ul>  
  </li>
  <li>
    G++ can now detect modifying constant objects in constexpr evaluation
    (which is undefined behavior).
  </li>
  <li>
    G++ no longer emits bogus <code>-Wsign-conversion</code> warnings with explicit
    casts.
  </li>
  <li>
    Narrowing is now detected in more contexts (e.g., <code>case</code>
    values).
  </li>
  <li>
    Memory consumption of the compiler has been reduced in constexpr evaluation.
  </li>
  <li>
    The <code>noexcept-specifier</code> is now properly treated as a
    <em>complete-class context</em> as per
    <a href="http://eel.is/c++draft/class.mem#def:complete-class_context">
    [class.mem]</a>.
  </li>
  <li>
    The attribute <code>deprecated</code> can now be used on
    <code>namespace</code>s too.
  </li>
</ul>

<!-- <h4 id="libstdcxx">Runtime Library (libstdc++)</h4> -->

<h3 id="fortran">Fortran</h3>
<ul>
  <li>
    The default buffer size for I/O using unformatted files has been
    increased to 1048576.  The buffer size for can now be set at
    runtime via the environment
    variables <code>GFORTRAN_FORMATTED_BUFFER_SIZE</code> and
    <code>GFORTRAN_UNFORMATTED_BUFFER_SIZE</code> for formatted
    and unformatted files, respectively.
  </li>
  <li>
    Mismatches between actual and dummy argument lists in a single
    file are now rejected with an error. Use the new
    option <code>-fallow-argument-mismatch</code> to turn these
    errors into warnings; this option is implied
    with <code>-std=legacy</code>.  <code>-Wargument-mismatch</code>
    has been removed.
  </li>
</ul>
<!-- <h3 id="go">Go</h3> -->

<!-- .................................................................. -->
<!-- <h2 id="jit">libgccjit</h2> -->

<!-- .................................................................. -->
<h2 id="targets">New Targets and Target Specific Improvements</h2>

<!-- <h3 id="aarch64">AArch64</h3> -->

<!-- <h3 id="arc">ARC</h3> -->

<h3 id="arm">ARM</h3>
<ul>
  <li>Support for the FDPIC ABI has been added. It uses 64-bit
  function descriptors to represent pointers to functions, and enables
  code sharing on MMU-less systems. The corresponding target triple is
  <code>arm-uclinuxfdpiceabi</code>, and the C library is uclibc-ng.
  </li>
</ul>
<!-- <h3 id="avr">AVR</h3> -->

<!-- <h3 id="hsa">Heterogeneous Systems Architecture</h3> -->

<h3 id="x86">IA-32/x86-64</h3>
<ul>
  <li>Support to expand <code>__builtin_roundeven</code> into the appropriate
    SSE 4.1 instruction has been added.
  </li>
</ul>

<!-- <h3 id="mips">MIPS</h3> -->

<!-- <h3 id="mep">MeP</h3> -->

<!-- <h3 id="msp430">MSP430</h3> -->

<!-- <h3 id="nds32">NDS32</h3> -->

<!-- <h3 id="nios2">Nios II</h3> -->

<!-- <h3 id="nvptx">NVPTX</h3> -->

<!-- <h3 id="hppa">PA-RISC</h3> -->

<!-- <h3 id="powerpc">PowerPC / PowerPC64 / RS6000</h3> -->

<h3 id="pru">PRU</h3>
<ul>
  <li>
    A new back end targeting TI PRU I/O processors has been contributed to GCC.
  </li>
</ul>

<!-- <h3 id="s390">S/390, System z, IBM z Systems</h3> -->

<!-- <h3 id="riscv">RISC-V</h3> -->

<!-- <h3 id="rx">RX</h3> -->

<!-- <h3 id="sh">SH</h3> -->

<!-- <h3 id="sparc">SPARC</h3> -->

<!-- <h3 id="Tile">Tile</h3> -->

<!-- .................................................................. -->
<h2 id="os">Operating Systems</h2>

<!-- <h3 id="aix">AIX</h3> -->

<!-- <h3 id="fuchsia">Fuchsia</h3> -->

<!-- <h3 id="dragonfly">DragonFly BSD</h3> -->

<!-- <h3 id="freebsd">FreeBSD</h3> -->

<!-- <h3 id="gnulinux">GNU/Linux</h3> -->

<!-- <h3 id="rtems">RTEMS</h3> -->

<!-- <h3 id="solaris">Solaris</h3> -->

<!-- <h3 id="vxmils">VxWorks MILS</h3> -->

<!-- <h3 id="windows">Windows</h3> -->


<!-- .................................................................. -->
<!-- <h2>Documentation improvements</h2> -->


<!-- .................................................................. -->
<!-- <h2 id="plugins">Improvements for plugin authors</h2> -->

<!-- .................................................................. -->
<h2>Other significant improvements</h2>
<ul>
  <li>
    To allow inline expansion of both <code>memcpy</code>
    and <code>memmove</code>, the existing <code>movmem</code> instruction
    patterns used for non-overlapping memory copies have been renamed to
    <code>cpymem</code>. The <code>movmem</code> name is now used
    for overlapping memory moves, consistent with the
    library functions <code>memcpy</code> and <code>memmove</code>.
  </li>
</ul>


<!-- .................................................................. -->
<!-- <h2><a name="10.1">GCC 10.1</a></h2> -->

</body>
</html>
