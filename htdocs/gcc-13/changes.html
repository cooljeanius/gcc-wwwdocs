<!DOCTYPE html>
<html lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>GCC 13 Release Series &mdash; Changes, New Features, and Fixes</title>
<link rel="stylesheet" type="text/css" href="https://gcc.gnu.org/gcc.css">
</head>

<!-- GCC maintainers, please do not hesitate to contribute/update
     entries concerning those part of GCC you maintain!
-->

<body>
<h1>GCC 13 Release Series<br>Changes, New Features, and Fixes</h1>

<p>
This page is a "brief" summary of some of the huge number of improvements
in GCC 13.
You may also want to check out our
<a href="porting_to.html">Porting to GCC 13</a> page and the
<a href="../onlinedocs/index.html#current">full GCC documentation</a>.
</p>

<p>Note: GCC 13 has not been released yet, so this document is
a work-in-progress.</p>

<!-- .................................................................. -->
<h2>Caveats</h2>
<ul>
    <li>OpenMP offloading to Intel MIC has been removed.</li>
    <li>The support for the <code>cr16-elf</code>, <code>tilegx*-linux</code>, <code>tilepro*-linux</code>,
      <code>hppa[12]*-*-hpux10*</code>, <code>hppa[12]*-*-hpux11*</code>
      and <code>m32c-rtems</code> configurations has been removed.</li>
    <li>Support for Solaris 11.3 (<code>*-*-solaris2.11.3</code>) has been
      declared obsolete.  The next release of GCC will have corresponding
      code permanently <strong>removed</strong>.  Details can be found in
      the
      <a href="https://gcc.gnu.org/pipermail/gcc/2022-December/240322.html">
      announcement</a>.
    </li>
    <li>Support for emitting the STABS debugging format (including the
      <code>-gstabs</code> and <code>-gxcoff</code> options) has been removed.
      (This means the <strong>dbx</strong> debugger is no longer
      supported, either.)</li>
    <li>Legacy debug info compression option <code>-gz=zlib-gnu</code> was removed
      and the option is ignored right now.</li>
    <li><code>-Warray-bounds=2</code> will no longer issue warnings for out of
      bounds accesses to trailing struct members of one-element array type
      anymore. Instead it diagnoses accesses to trailing arrays according to
      <code>-fstrict-flex-arrays</code>. </li>
</ul>


<!-- .................................................................. -->
<h2 id="general">General Improvements</h2>

<ul>
  <li id="openmp"><a href="https://gcc.gnu.org/projects/gomp/">OpenMP</a>
  <ul>
    <li>
      Reverse offload is now supported and the all clauses to the
      <code>requires</code> directive are now accepted. However, the
      <code>requires_offload</code>, <code>unified_address</code>
      and <code>unified_shared_memory</code> clauses imply the initial
      device (= the host) as the only available device. Fortran now
      supports non-rectangular loop nests, which were added for C/C++ in GCC 11.
    </li>
    <li>
      The following OpenMP 5.1 features have been added: the
      <code>omp_all_memory</code> reserved locator, the <code>inoutset</code>
      modifier to the <code>depend</code> clause, the <code>nowait</code>
      clause for the <code>taskwait</code> directive and the
      <code>omp_target_is_accessible</code>, <code>omp_target_memcpy_async</code>,
      <code>omp_target_memcpy_rect_async</code> and
      <code>omp_get_mapped_ptr</code> API routines. The <code>assume</code> and
      <code>assumes</code> directives, the <code>begin/end declare target</code>
      syntax in C/C++ and device-specific ICV settings with environment variables
      are now supported.</li>
    <li>
      Initial support for OpenMP 5.2 features has been added:
      <code>firstprivate</code> and <code>allocate</code> clauses on the
      <code>scope</code> construct; the OpenMP 5.2 syntax of the
      <code>linear</code> clause; new enum/constants
      <code>omp_initial_device</code> and <code>omp_invalid_device</code>; and
      optionally omitting the map-type in <code>target enter/exit data</code>.
      The <code>enter</code> clause (as alias for <code>to</code>) has been added
      to the <code>declare target</code> directive. Also added have been the
      <code>omp_in_explicit_task</code> routine and the <code>doacross</code>
      clause as alias for <code>depend</code> with
      <code>source</code>/<code>sink</code> modifier.
    </li>
    <li>
      The <code>_ALL</code> suffix to the device-scope environment variables
      added in Technical Report (TR11) is already handled.
    </li>
    <li>
      For user defined allocators requesting high bandwidth or large capacity
      memspaces or interleaved partitioning, the <a
      href="http://memkind.github.io/memkind/">memkind</a> library is used,
      if available at run time.
    </li>
  </ul>
  </li>
  <li>
    AddressSanitizer defaults to <code>detect_stack_use_after_return=1</code> on GNU/Linux targets.
    For compatibility, it can be disabled with <code>env ASAN_OPTIONS=detect_stack_use_after_return=0</code>.
  </li>
  <li>New debug info compression option value <code>-gz=zstd</code> has been added.</li>
  <li>
    Link-time optimization improvements:
    <ul>
        <li>LTO supports the newly added jobserver of GNU make jobserver that uses named pipes (<code>--jobserver-style=fifo</code>)
        by default.</li>
        <li>If make's jobserver is active, parallel LTO WPA streaming communicates with it and thus avoids
            system overcommitting.</li>
    </ul>
  </li>
</ul>


<!-- .................................................................. -->
<h2 id="languages">New Languages and Language specific improvements</h2>

<!-- <h3 id="ada">Ada</h3> -->

<!-- <h3 id="c-family">C family</h3> -->

<h3 id="c">C</h3>
<ul>
  <li>Several C23 features have been implemented:
    <ul>
      <li><a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3042.htm">N3042</a>,
	  Introduce the nullptr constant</li>
      <li><a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2963.htm">N2963</a>,
      Enhanced Enumerations (fixed underlying types)</li>
      <li><a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2975.pdf">N2975</a>,
	Relax requirements for variadic parameter lists</li>
      <li><a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3007.htm">N3007</a>,
      Type inference for object definitions (<code>auto</code>)</li>
      <li><a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3018.htm">N3018</a>,
	The <code>constexpr</code> specifier for object definitions</li>
      <li><a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3038.htm">N3038</a>,
	Introduce storage-class specifiers for compound literals</li>
      <li><code>typeof</code> (previously supported as an extension)
	and <code>typeof_unqual</code></li>
      <li>New
	keywords <code>alignas</code>, <code>alignof</code>, <code>bool</code>,
	<code>false</code>, <code>static_assert</code>, <code>thread_local</code>,
	<code>true</code></li>
      <li><a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2764.pdf">N2764</a>,
      The <code>noreturn</code> attribute</li>
      <li>Support for empty initializer braces</li>
      <li><code>__STDC_VERSION_*_H__</code> header version macros</li>
      <li>Removal of <code>ATOMIC_VAR_INIT</code></li>
      <li><code>unreachable</code> macro
      in <code>&lt;stddef.h&gt;</code></li>
      <li>Removal of trigraphs</li>
      <li>Removal of unprototyped functions</li>
      <li><code>printf</code> and <code>scanf</code> format checking
      with <code>-Wformat</code> for <code>%wN</code>
      and <code>%wfN</code> format length modifiers</li>
      <li><a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2836.pdf">N2836</a>,
	Identifier Syntax using Unicode Standard Annex 31</li>
    </ul>
  </li>
  <li>In addition to those C23 features, existing features adopted in
  C23 have been adjusted to follow C23 requirements and are not diagnosed
  with <code>-std=c2x -Wpedantic</code>.</li>
  <li>New warnings:
    <ul>
      <li><code>-Wenum-int-mismatch</code> warns about mismatches between an
	  enumerated type and an integer type
	  (<a href="https://gcc.gnu.org/PR105131">PR105131</a>)</li>
    </ul>
  </li>
</ul>

<h3 id="cxx">C++</h3>
<ul>
  <li>Several C++23 features have been implemented:
    <ul>
      <li><a href="https://wg21.link/p2324">P2324R1</a>, Labels at the end of
	  compound statements (<a href="https://gcc.gnu.org/PR103539">PR103539</a>)
      </li>
      <li><a href="https://wg21.link/p2255">P2255R2</a>, A type trait to detect
	  reference binding to temporary
	  (<a href="https://gcc.gnu.org/PR104477">PR104477</a>)
      </li>
      <li><a href="https://wg21.link/p2327">P2327R1</a>, De-deprecating volatile
	  compound operations
      </li>
      <li><a href="https://wg21.link/p2437">P2437R1</a>, Support for
	  <code>#warning</code>
	  (<a href="https://gcc.gnu.org/PR106646">PR106646</a>)
      </li>
      <li><a href="https://wg21.link/p2290">P2290R3</a>, Delimited escape sequences
	  (<a href="https://gcc.gnu.org/PR106645">PR106645</a>)
      </li>
      <li><a href="https://wg21.link/p2071">P2071R2</a>, Named universal character
	  escapes
	  (<a href="https://gcc.gnu.org/PR106648">PR106648</a>)
      </li>
      <li><a href="https://wg21.link/p2513">P2513R3</a>, <code>char8_t</code>
	  Compatibility and Portability Fix
	  (<a href="https://gcc.gnu.org/PR106656">PR106656</a>)
      </li>
      <li><a href="https://wg21.link/p1169r4">P1169R4</a>, static
	  <code>operator()</code>
	  (<a href="https://gcc.gnu.org/PR106651">PR106651</a>)
      </li>
      <li><a href="https://wg21.link/p2266r3">P2266R3</a>, Simpler implicit
	  move
	  (<a href="https://gcc.gnu.org/PR101165">PR101165</a>)
      </li>
      <li> <a href="https://wg21.link/p2468r2">P2468R2</a>, The Equality
	Operator You Are Looking For
	(<a href="https://gcc.gnu.org/PR106644">PR106644</a>)
      </li>
    </ul>
  </li>
  <li>New warnings:
    <ul>
      <li><code>-Wself-move</code> warns when a value is moved to itself with
	  <code>std::move</code>
	  (<a href="https://gcc.gnu.org/PR81159">PR81159</a>)</li>
      <li><code>-Wdangling-reference</code> warns when a reference is bound to
	  a temporary whose lifetime has ended
	  (<a href="https://gcc.gnu.org/PR106393">PR106393</a>)</li>
    </ul>
  </li>
  <li>The <code>-Wpessimizing-move</code> and <code>-Wredundant-move</code>
      warnings have been extended to warn in more contexts.</li>
</ul>

<h4 id="libstdcxx">Runtime Library (libstdc++)</h4>
<ul>
  <li>Improved experimental support for C++20, including:
    <ul>
    <li><code>&lt;format&gt;</code> header and <code>std::format</code>.</li>
    <li><code>std::chrono::utc_clock</code> and other clocks, time zones,
      and <code>std::format</code> support in the <code>&lt;chrono&gt;</code>
      header.
    </li>
    </ul>
  </li>
  <li>Improved experimental support for C++23, including:
    <ul>
    <li>Additions to the <code>&lt;ranges&gt;</code> header:
      <code>views::zip</code>, <code>views::zip_transform</code>,
      <code>views::adjacent</code>, <code>views::adjacent_transform</code>
      <code>views::pairwise</code>, <code>views::slide</code>,
      <code>views::chunk</code>, <code>views::chunk_by</code>,
      <code>views::repeat</code>, <code>views::chunk_by</code>,
      <code>views::cartesian_product</code>, <code>views::as_rvalue</code>.
    </li>
    <li>Monadic operations for <code>std::expected</code>.</li>
    <li>Constexpr <code>std::bitset</code>, <code>std::to_chars</code>
      and <code>std::from_chars</code>.
    </li>
    <li>Library support for extended floating-point types.</li>
    </ul>
  </li>
  <li>Support for the <code>&lt;experimental/scope&gt;</code> header
      from v3 of the Library Fundamentals Technical Specification.
  </li>
</ul>

<!-- <h3 id="d">D</h3> -->

<!-- <h3 id="fortran">Fortran</h3> -->

<!-- <h3 id="go">Go</h3> -->

<!-- .................................................................. -->
<!-- <h2 id="jit">libgccjit</h2> -->

<!-- .................................................................. -->
<h2 id="targets">New Targets and Target Specific Improvements</h2>

<h3 id="aarch64">AArch64</h3>
<ul>
  <li>A number of new CPUs are supported through the <code>-mcpu</code> and
  <code>-mtune</code> options (GCC identifiers in parentheses).
    <ul>
      <li>Ampere-1A (<code>ampere1a</code>).</li>
      <li>Arm Cortex-A715 (<code>cortex-a715</code>).</li>
      <li>Arm Cortex-X1C (<code>cortex-x1c</code>).</li>
      <li>Arm Cortex-X3 (<code>cortex-x3</code>).</li>
      <li>Arm Neoverse V2 (<code>neoverse-v2</code>).</li>
    </ul>
</ul>

<h3 id="amdgcn">AMD Radeon (GCN)</h3>
<ul>
  <li>Support for the Instinct MI200 series devices (<a
      href="https://gcc.gnu.org/onlinedocs/gcc/AMD-GCN-Options.html">
      <code>gfx90a</code></a>) has been added.</li>
</ul>

<!-- <h3 id="arc">ARC</h3> -->

<h3 id="arm">arm</h3>
<ul>
  <li>The STAR-MC1 CPU is now supported through the <code>star-mc1</code>
  argument to the <code>-mcpu</code> and <code>-mtune</code> options.
  </li>
</ul>

<!-- <h3 id="avr">AVR</h3> -->

<h3 id="x86">IA-32/x86-64</h3>
<ul>
  <li>For both C and C++ the <code>__bf16</code> type is supported on
      x86 systems with SSE2 and above enabled.
  </li>
  <li>Use real <code>__bf16</code> type for AVX512BF16 intrinsics. Previously
  we use __bfloat16 which is typedef of short. Now we introduced real
  <code>__bf16</code> type to x86 psABI. Users need to adjust their
  AVX512BF16-related source code when upgrading GCC12 to GCC13.
  </li>
  <li>New ISA extension support for Intel AVX-IFMA was added.
      AVX-IFMA intrinsics are available via the <code>-mavxifma</code>
      compiler switch.
  </li>
  <li>New ISA extension support for Intel AVX-VNNI-INT8 was added.
      AVX-VNNI-INT8 intrinsics are available via the <code>-mavxvnniint8</code>
      compiler switch.
  </li>
  <li>New ISA extension support for Intel AVX-NE-CONVERT was added.
      AVX-NE-CONVERT intrinsics are available via the
      <code>-mavxneconvert</code> compiler switch.
  </li>
  <li>New ISA extension support for Intel CMPccXADD was added.
      CMPccXADD intrinsics are available via the <code>-mcmpccxadd</code>
      compiler switch.
  </li>
  <li>New ISA extension support for Intel AMX-FP16 was added.
      AMX-FP16 intrinsics are available via the <code>-mamx-fp16</code>
      compiler switch.
  </li>
  <li>New ISA extension support for Intel PREFETCHI was added.
      PREFETCHI intrinsics are available via the <code>-mprefetchi</code>
      compiler switch.
  </li>
  <li>New ISA extension support for Intel RAO-INT was added.
      RAO-INT intrinsics are available via the <code>-mraoint</code>
      compiler switch.
  </li>
  <li>GCC now supports the Intel CPU named Raptor Lake through
    <code>-march=raptorlake</code>.
    Raptor Lake is based on Alder Lake.
  </li>
  <li>GCC now supports the Intel CPU named Meteor Lake through
    <code>-march=meteorlake</code>.
    Meteor Lake is based on Alder Lake.
  </li>
  <li>GCC now supports the Intel CPU named Sierra Forest through
    <code>-march=sierraforest</code>.
    The switch enables the AVX-IFMA, AVX-VNNI-INT8, AVX-NE-CONVERT and
    CMPccXADD ISA extensions.
  </li>
  <li>GCC now supports the Intel CPU named Grand Ridge through
    <code>-march=grandridge</code>.
    The switch enables the AVX-IFMA, AVX-VNNI-INT8, AVX-NE-CONVERT, CMPccXADD
    and RAO-INT ISA extensions.
  </li>
  <li>GCC now supports the Intel CPU named Granite Rapids through
    <code>-march=graniterapids</code>.
    The switch enables the AMX-FP16 and PREFETCHI ISA extensions.
  </li>
</ul>

<!-- <h3 id="mips">MIPS</h3> -->

<!-- <h3 id="mep">MeP</h3> -->

<!-- <h3 id="msp430">MSP430</h3> -->

<!-- <h3 id="nds32">NDS32</h3> -->

<!-- <h3 id="nios2">Nios II</h3> -->

<h3 id="nvptx">NVPTX</h3>
<ul>
  <li>The default value for the <a
      href="https://gcc.gnu.org/onlinedocs/gcc/Nvidia-PTX-Options.html"><code>
      -march</code></a> option can be now changed when <a
      href="https://gcc.gnu.org/install/">building GCC</a> using the
      <a href="https://gcc.gnu.org/install/specific.html#nvptx-x-none">
      <code>--with-arch=</code></a> configure option. GCC's target libraries
      are then build both with <code>sm_30</code> and the specified target
      architecture. If not specified, GCC defaults to <code>sm_30</code>.
  </li>
</ul>

<!-- <h3 id="hppa">PA-RISC</h3> -->

<!-- <h3 id="powerpc">PowerPC / PowerPC64 / RS6000</h3> -->

<!-- <h3 id="s390">S/390, System z, IBM z Systems</h3> -->

<h3 id="riscv">RISC-V</h3>
<ul>
    <li>New ISA extension support for zawrs.</li>
</ul>

<!-- <h3 id="rx">RX</h3> -->

<!-- <h3 id="sh">SH</h3> -->

<!-- <h3 id="sparc">SPARC</h3> -->

<!-- <h3 id="Tile">Tile</h3> -->

<!-- .................................................................. -->
<h2 id="os">Operating Systems</h2>

<!-- <h3 id="aix">AIX</h3> -->

<!-- <h3 id="fuchsia">Fuchsia</h3> -->

<!-- <h3 id="dragonfly">DragonFly BSD</h3> -->

<!-- <h3 id="freebsd">FreeBSD</h3> -->

<!-- <h3 id="gnulinux">GNU/Linux</h3> -->

<!-- <h3 id="rtems">RTEMS</h3> -->

<!-- <h3 id="solaris">Solaris</h3> -->

<!-- <h3 id="vxmils">VxWorks MILS</h3> -->

<!-- <h3 id="windows">Windows</h3> -->


<!-- .................................................................. -->
<!-- <h2>Documentation improvements</h2> -->

<!-- .................................................................. -->
<!-- <h2 id="plugins">Improvements for plugin authors</h2> -->

<!-- .................................................................. -->
<h2>Other significant improvements</h2>

<!-- <h3 id="uninitialized">Eliminating uninitialized variables</h3> -->
<h3 id="flexible-arrays">Treating trailing arrays as flexible array members</h3>

<ul>
 <li>GCC can now control when to treat the trailing array of a structure as a
     flexible array member for the purpose of accessing the elements of such
     an array. By default, all trailing arrays in aggregates are treated as
     flexible array members. Use the new command-line option
     <code>-fstrict-flex-arrays</code> to control which array members are
     treated as flexible arrays.
 </li>
</ul>

<!-- .................................................................. -->
<!-- <h2 id="13.1">GCC 13.1</h2> -->

</body>
</html>
