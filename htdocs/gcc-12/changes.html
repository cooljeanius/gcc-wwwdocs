<!DOCTYPE html>
<html lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>GCC 12 Release Series &mdash; Changes, New Features, and Fixes</title>
<link rel="stylesheet" type="text/css" href="https://gcc.gnu.org/gcc.css" />
</head>

<!-- GCC maintainers, please do not hesitate to contribute/update
     entries concerning those part of GCC you maintain!
-->

<body>
<h1>GCC 12 Release Series<br/>Changes, New Features, and Fixes</h1>

<p>
This page is a "brief" summary of some of the huge number of improvements
in GCC 12.
<!--
You may also want to check out our
<a href="porting_to.html">Porting to GCC 12</a> page and the
<a href="../onlinedocs/index.html#current">full GCC documentation</a>.
-->
</p>

<p>Note: GCC 12 has not been released yet, so this document is
a work-in-progress.</p>

<!-- .................................................................. -->
<h2>Caveats</h2>
<ul>
  <li>
    Two non-standard <code>std::pair</code> constructors have been deprecated.
    These allowed the use of an rvalue and a literal <code>0</code> to
    construct a pair containing a move-only type and a pointer.
    The <code>nullptr</code> keyword should be used to initialize the pointer
    member instead of a literal <code>0</code>, as this is portable to other
    C++ implementations.
  </li>
  <li>...</li>
</ul>


<!-- .................................................................. -->
<h2 id="general">General Improvements</h2>

<!-- .................................................................. -->
<h2 id="languages">New Languages and Language specific improvements</h2>

<ul>
  <li>OpenMP 5.0 support has been extended: The <code>close</code> map modifier
      and the <code>affinity</code> clause are now supported and for Fortran
      additionally the following features which were available in C and C++
      before:  <code>depobj</code>, <code>mutexinoutset</code> and
       <code>iterator</code> can now also be used with the <code>depend</code>
      clause, <code>defaultmap</code> has been updated for OpenMP 5.0, and the
      <code>loop</code> directive and combined directives
      involving <code>master</code> directive have been added. Additionally,
      support for expressing OpenMP directives as C++ 11 attributes has been
      added, which is an OpenMP 5.1 feature.
  </li>
  <li>The new warning flag <code>-Wopenacc-parallelism</code> was added for
      OpenACC. It warns about potentially suboptimal choices related to
      OpenACC parallelism.
  </li>
  <li>The offload target code generation for OpenMP and OpenACC can now
      be better adjusted using the new <a
      href="https://gcc.gnu.org/onlinedocs/gcc/C-Dialect-Options.html#index-foffload-options"
      ><code>-foffload-options=</code></a> flag and the pre-existing but now
      documented <a
      href="https://gcc.gnu.org/onlinedocs/gcc/C-Dialect-Options.html#index-foffload"
      ><code>-foffload=</code></a> flag.
  </li>
</ul>

<!-- <h3 id="ada">Ada</h3> -->

<!-- <h3 id="brig">BRIG (HSAIL)</h3> -->

<h3 id="c-family">C family</h3>

<ul>
  <li>Support for <code>__builtin_shufflevector</code> compatible with
      the clang language extension was added.
  </li>
</ul>

<h3 id="cxx">C++</h3>
<ul>
  <li>Several C++23 features have been implemented:
    <ul>
      <li>P1938R3, <code>if consteval</code></li>
      <li>DR 2397, <code>auto</code> specifier for pointers and references to arrays</li>
    </ul>
  </li>
  <li>Several C++ Defect Reports have been resolved, e.g.:
    <ul>
      <li>DR 1227, Mixing immediate and non-immediate contexts in deduction failure</li>
      <li>DR 2397, <code>auto</code> specifier for pointers and references to arrays</li>
    </ul>
  </li>
</ul>

<!-- <h4 id="libstdcxx">Runtime Library (libstdc++)</h4> -->

<!-- <h3 id="d">D</h3> -->

<!-- <h3 id="fortran">Fortran</h3> -->

<!-- <h3 id="go">Go</h3> -->

<!-- .................................................................. -->
<!-- <h2 id="jit">libgccjit</h2> -->

<!-- .................................................................. -->
<h2 id="targets">New Targets and Target Specific Improvements</h2>

<!-- <h3 id="aarch64">AArch64</h3> -->

<h3 id="amdgcn">AMD Radeon (GCN)</h3>
<ul>
  <li>Debug experience with ROCGDB has been improved.</li>
  <li>Support for the type <code>__int128_t</code>/<code>integer(kind=16)</code>
      was added.</li>
</ul>

<!-- <h3 id="arc">ARC</h3> -->

<!-- <h3 id="arm">ARM</h3> -->

<!-- <h3 id="avr">AVR</h3> -->

<!-- <h3 id="x86">IA-32/x86-64</h3> -->

<!-- <h3 id="mips">MIPS</h3> -->

<!-- <h3 id="mep">MeP</h3> -->

<!-- <h3 id="msp430">MSP430</h3> -->

<!-- <h3 id="nds32">NDS32</h3> -->

<!-- <h3 id="nios2">Nios II</h3> -->

<h3 id="nvptx">NVPTX</h3>
<ul>
  <li>The <code>-mptx</code> flag has been added to specify the PTX ISA version
      for the generated code; permitted values are <code>3.1</code>
      (default, matches previous GCC versions) and <code>6.3</code>.
  </li>
  <li>The new <code>__PTX_SM__</code> predefined macro allows code to check the
      compute model being targeted by the compiler.</li>
</ul>
<!-- <h3 id="hppa">PA-RISC</h3> -->

<!-- <h3 id="powerpc">PowerPC / PowerPC64 / RS6000</h3> -->

<!-- <h3 id="s390">S/390, System z, IBM z Systems</h3> -->

<!-- <h3 id="riscv">RISC-V</h3> -->

<!-- <h3 id="rx">RX</h3> -->

<!-- <h3 id="sh">SH</h3> -->

<!-- <h3 id="sparc">SPARC</h3> -->

<!-- <h3 id="Tile">Tile</h3> -->

<!-- .................................................................. -->
<h2 id="os">Operating Systems</h2>

<!-- <h3 id="aix">AIX</h3> -->

<!-- <h3 id="fuchsia">Fuchsia</h3> -->

<!-- <h3 id="dragonfly">DragonFly BSD</h3> -->

<!-- <h3 id="freebsd">FreeBSD</h3> -->

<!-- <h3 id="gnulinux">GNU/Linux</h3> -->

<!-- <h3 id="rtems">RTEMS</h3> -->

<!-- <h3 id="solaris">Solaris</h3> -->

<!-- <h3 id="vxmils">VxWorks MILS</h3> -->

<!-- <h3 id="windows">Windows</h3> -->


<!-- .................................................................. -->
<!-- <h2>Documentation improvements</h2> -->


<!-- .................................................................. -->
<!-- <h2 id="plugins">Improvements for plugin authors</h2> -->

<!-- .................................................................. -->
<!-- <h2>Other significant improvements</h2> -->


<!-- .................................................................. -->
<!-- <h2><a name="12.1">GCC 12.1</a></h2> -->

</body>
</html>
