<html>

<head>
<title>GCC 3.1 Changes, New Features, and Fixes</title>
</head>

<!-- GCC maintainers, please do not hesitate to update/contribute entries
     concerning those part of GCC you maintain!  2002-03-23, Gerald.
-->

<body>
<h1>GCC 3.1 Changes, New Features, and Fixes</h1>

<h2>Caveats</h2>

<ul>
  <li>The <code>-traditional</code> C compiler option has been
  deprecated and will be removed in GCC 3.2.  (It remains possible to
  preprocess non-C code with the traditional preprocessor.)</li>
</ul>


<h2>General Optimizer Improvements</h2>

<ul>
  <li>dummy</li>
</ul>

  
<h2>New Languages and Language specific improvements</h2>

<h3>C/C++</h3>

<ul>
<li>A few more <a href="c99status.html">ISO C99 features</a>.</li>
<li>The preprocessor is 10-50% faster than the preprocessor in GCC
    3.0.</li>
<li>The preprocessor's symbol table has been merged with the
    symbol table of the C, C++ and Objective-C front ends.</li>
<li>The preprocessor consumes less memory than the preprocessor in
    GCC 3.0, often significantly so.  On normal input files, it
    typically consumes less memory than pre-3.0 cccp-based GCC,
    too.</li>
</ul>

<h3>Java</h3>

<ul>
<li>libgcj now includes RMI, <code>java.lang.ref.*</code>,
    <code>javax.naming</code>, and <code>javax.transaction</code>.</li>
<li>Property files and other system resources can be compiled into
    executables which use libgcj using the new <code>gcj -R</code>
    feature.</li>
<li>libgcj has been ported to more platforms.  In particular there
    is now a mostly-functional mingw32 target port.</li>
<li>gcj can now use builtins functions for certain known methods,
    for instance <code>Math.cos</code>.  gcj also has a new
    <code>--no-store-checks</code> optimization option.</li>
<li>The following third party interface standards were added to
    libgcj: <code>org.w3c.dom</code> and <code>org.xml.sax</code>.</li>
<li><code>java.security</code> has been merged with GNU
    Classpath. The new package is now JDK 1.2 compliant, and much
    more complete.</li>
<li>A bytecode verifier was added to the libgcj interpreter.</li>
<li><code>java.lang.Character</code> was rewritten to comply with
    the Unicode 3.0 standard.</li>
<li>Partial support for many more locales was added to libgcj.</li>
</ul>

<h3>Fortran</h3>

<p>Fortran improvements are listed in              
<a href="http://gcc.gnu.org/onlinedocs/g77_news.html">the Fortran
documentation</a>.</p>


<h2>New Targets and Target Specific Improvements</h2>

<ul>
<li>Hans-Peter Nilsson has contributed a port to <a
    href="http://www-cs-faculty.stanford.edu/~knuth/mmix.html">MMIX</a>,
    the CPU architecture used in new editions of Donald E. Knuth's The Art
    of Computer Programming.</li>
    
<li><a href="http://www.axis.com/">Axis Communications</a> has
    contributed its port to the CRIS CPU architecture, used in the ETRAX
    system-on-a-chip series.  See <a
    href="http://developer.axis.com/">Axis' developer site</a> for
    technical information.</li>
    
<li>UltraSPARC is fully supported in 64-bit mode.  The option 
    <code>-m64</code> enables it.</li>
    
<li>The x86 back-end has had some noticeable work done to it.
    <ul>
      <li><a href="http://www.suse.com/">SuSE Labs</a> developers Jan
      Hubicka, Bo Thorsen and Andreas Jaeger have contributed a port to
      the AMD x86-64 architecture.  For more information on x86-64 see
      <a href="http://www.x86-64.org/">http://www.x86-64.org</a>.</li>
      
      <li>The compiler now supports MMX, 3DNow!, SSE, and SSE2 instructions.
      Options <code>-mmmx</code>, <code>-m3dnow</code>, <code>-msse</code>,
      and <code>-msse2</code> will enable the respective instruction sets.</li>

      <li>Following those improvements, targets for Pentium MMX, K6-2, K6-3,
      Pentium III, Pentium 4, and Athlon 4 Mobile/XP/MP were added.
      Refer to the documentation on <code>-march=</code> and
      <code>-mcpu=</code> options for details.</li>

      <li>For those targets that support it, <code>-mfpmath=sse</code> will
      cause the compiler to generate SSE/SSE2 instructions for floating point
      math instead of x87 instructions.  Usually, this will lead to quicker
      code &mdash; especially on the Pentium 4.</li>

      <li>Prefetch support has been added to the Pentium III, Pentium 4, and
      Athlon series.</li>
   </ul></li>
     
<li>Altivec support has been added for the PowerPC variants that
    support it.  See <code>-maltivec</code>.</li>
</ul>

</ul>

<h2>Obsolete Targets</h2>

<p>Support for a number of older systems has been declared obsolete in
GCC 3.1.  Unless there is activity to revive them, the next
release of GCC will have their sources permanently REMOVED.</p>

<p>All configurations of the following processor architectures have
been declared obsolete:</p>

<ul>
   <li>MIL-STD-1750A, <code>1750a-*-*</code></li>
   <li>Convex, <code>c*-convex-*</code></li>
   <li>Clipper, <code>clipper-*-*</code></li>
   <li>Elxsi, <code>elxsi-*-*</code></li>
   <li>Intel i860, <code>i860-*-*</code></li>
   <li>Sun picoJava, <code>pj-*-*</code> and <code>pjl-*-*</code></li>
   <li>Western Electric 32000, <code>we32k-*-*</code></li>
</ul>

<p>Most configurations of the following processor architectures have
been declared obsolete, but we are preserving a few systems which may
have active developers.  It is unlikely that the remaining systems
will survive much longer unless we see definite signs of port
activity.</p>

<ul>
  <li>AMD A29k except
      <ul><li>Generic COFF, <code>a29k-*-udi</code>
                        and <code>a29k-*-coff</code>.</li></ul>
  </li>
  <li>Motorola 88000 except
      <ul>
        <li>Generic a.out, <code>m88k-*-aout*</code></li>
        <li>Generic SVR4, <code>m88k-*-sysv4</code></li>
        <li>OpenBSD, <code>m88k-*-openbsd*</code></li>
      </ul>
  </li>
  <li>NS32k except
      <ul>
        <li>NetBSD, <code>ns32k-*-netbsd*</code></li>
	<li>OpenBSD, <code>ns32k-*-openbsd*</code>.</li>
      </ul>
  </li>
  <li>ROMP except
      <ul><li>OpenBSD, <code>romp-*-openbsd*</code>.</li></ul>
  </li>
</ul>

<p>Finally, only some configurations of these processor architectures
are being obsoleted.</p>

<ul>
  <li>Alpha:
      <ul><li>OSF V1.0 before 4.0, <code>alpha-*-osf[123]*</code>.</li></ul>
  <li>ARM:
      <ul><li>RISCiX, <code>arm-*-riscix*</code>.</li></ul>
  <li>i386:
      <ul>
	<li>386BSD, <code>i?86-*-bsd*</code></li>
	<li>Chorus, <code>i?86-*-chorusos*</code></li>
	<li>DG/UX, <code>i?86-*-dgux*</code></li>
	<li>FreeBSD 1.x, <code>i?86-*-freebsd1.*</code></li>
	<li>IBM AIX, <code>i?86-*-aix*</code></li>
	<li>ISC UNIX, <code>i?86-*-isc*</code></li>
	<li>Linux with pre-BFD linker, <code>i?86-*-linux*oldld*</code></li>
	<li>NEXTstep, <code>i?86-next-*</code></li>
	<li>OSF UNIX, <code>i?86-*-osf1*</code> and 
		      <code>i?86-*-osfrose*</code></li>
	<li>RTEMS/coff, <code>i?86-*-rtemscoff*</code></li>
	<li>RTEMS/go32, <code>i?86-go32-rtems*</code></li>
	<li>Sequent/BSD, <code>i?86-sequent-bsd*</code></li>
	<li>Sequent/ptx before version 3, 
		<code>i?86-sequent-ptx[12]*</code> and 
		<code>i?86-sequent-sysv3*</code></li> 
	<li>SunOS, <code>i?86-*-sunos*</code></li>
     </ul>
  </li>
  <li>Motorola 68000:
      <ul>
	<li>Altos, <code>m68[k0]*-altos-*</code></li>
	<li>Apollo, <code>m68[k0]*-apollo-*</code></li>
	<li>Apple A/UX, <code>m68[k0]*-apple-*</code></li>
	<li>Bull, <code>m68[k0]*-bull-*</code></li>
	<li>Convergent, <code>m68[k0]*-convergent-*</code></li>
	<li>Generic SVR3, <code>m68[k0]*-*-sysv3*</code></li>
	<li>ISI, <code>m68[k0]*-isi-*</code></li>
	<li>LynxOS, <code>m68[k0]*-*-lynxos*</code></li>
	<li>NEXT, <code>m68[k0]*-next-*</code></li>
	<li>RTEMS/coff, <code>m68[k0]*-*-rtemscoff*</code></li>
	<li>Sony, <code>m68[k0]*-sony-*</code></li>
      </ul>
  </li>
  <li>MIPS:
      <ul>
	<li>DEC Ultrix, <code>mips-*-ultrix*</code> and
			<code>mips-dec-*</code></li>
	<li>Generic BSD, <code>mips-*-bsd*</code></li>
	<li>Generic System V, <code>mips-*-sysv*</code></li>
	<li>IRIX before version 5, <code>mips-sgi-irix[1234]*</code></li>
	<li>RiscOS, <code>mips-*-riscos*</code></li>
	<li>Sony, <code>mips-sony-*</code></li>
	<li>Tandem, <code>mips-tandem-*</code></li>
      </ul>
   </li>
   <li>Sparc:
      <ul><li>RTEMS/a.out, <code>sparc-*-rtemsaout*</code>.</li></ul>
   </li>
</ul>


<h2>Documentation improvements</h2>

<ul>
<li>The old manual (&quot;Using and Porting the GNU Compiler
    Collection&quot;) has been replaced by a users manual (&quot;Using the
    GNU Compiler Collection&quot;) and a separate internals reference
    manual (&quot;GNU Compiler Collection Internals&quot;).</li>
<li>More complete and much improved documentation about GCC's
    internal representation used by the C and C++ front ends.</li>
<li>Many cleanups and improvements in general.</li>
</ul>

<h2>Other significant improvements</h2>

</body>
</html>
