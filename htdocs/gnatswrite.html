<html>

<head>
<title>Maintaining the GCC GNATS installation</title>
</head>

<body>
<h1>Accessing the database</h1>

<p>In order to manage PRs, you need an account for our GNATS database
which is different from the authenticated access to the CVS repository
(though the username will be the same). If you have CVS write access
or a "senior" GCC Maintainer agrees that
you should have a GNATS account, fill in
<a href="http://sources.redhat.com/cgi-bin/pdw/ps_form.cgi">this form</a>
with "GNATS access only" in the SSH key part.</p>

<p>Also, when you manage PRs, make sure mail-forwarding from
gcc.gnu.org to your normal email account is activated; otherwise
replies to status change notifications will bounce.</p>

<p>You can access the database either via <a
href="http://gcc.gnu.org/cgi-bin/gnatsweb.pl">gnatsweb</a>, or via
the gnatsd running on gcc.gnu.org.</p>

<h2>Using gnatsd and Emacs</h2>

<p>Check out GNATS v3 from
<code>:pserver:anoncvs@sources.redhat.com:/cvs/gnats</code> by means of
the <code>-r gnats-v3-branch</code> option. Build and install that.</p>

<p>Add the the ../share/emacs/site-lisp/ directory installed by the GNATS
build to your <code>load-path</code> in order to pick up the gnats library.
</p>

<p>Finally, add the following entries to your <code>.emacs</code> file</p>

<blockquote><code>
  (load-library "gnats")<br />
  (setq gnats:network-server "gcc.gnu.org")<br />
  (setq gnats:userid "YourUserName")<br />
  (setq gnats:password "YourGNATSPassword")<br />
  (setq gnats:alias "gcc")<br />
  (autoload 'edit-pr "gnats"
            "Command to edit a problem report." t)<br />
  (autoload 'query-pr "gnats"
            "Command to query information about problem reports." t)
</code></blockquote>

<p>(If you already have PRMS support set up in you <code>.emacs</code>
file, remove that first, to avoid conflicts with duplicate symbols.)</p>


<h1>Adding Reports</h1>

<p>To add a new report, you should be familiar with the <a
href="gnats.html">general instructions</a>. In addition, you might
want to use the gccbug.el Emacs-Lisp file to aid putting forwarding
bug reports from gcc-bugs into the gnats database.</p>

<h1>Maintainer's View of Fields</h1>

<p>As a GCC-specific convention, we will attach a special meaning to
some fields. The State field should be used in the following way:</p>

<dl>

<dt>open</dt>
<dd>The PR has been filed and the responsible person(s) notified.</dd>

<dt>analyzed</dt>

<dd>A maintainer has verified that this is indeed a bug in GCC. Every
once in a while, old reports will need to be rechecked, to find out
whether the bug still exists. At that time, an indication should be
left in the report who tested the bug and when.</dd>

<dt>feedback</dt> 
<dd>The submitter was asked for further information, or asked to try
out a patch. The PR remains in that state until the submitter
responds.</dd>

<dt>suspended</dt>
<dd>Work on the problem has been postponed.  This happens if a timely
solution is not possible or is not cost-effective at the present time.
The PR continues to exist, though a solution is not being actively
sought. If the problem cannot be solved at all, it should be closed
rather than suspended.</dd>

</dl>

<p>In addition, the <b>high</b> priority is reserved to maintainers in
GCC, indicating that a certain problem must be solved before the next
version of GCC is released.</p>

<h2>Procedures and Policies</h2>

<p><strong>Bugs that are in state "feedback"</strong> because they lack
information that is necessary for reproducing the problem can be closed
if no response was received for three months.</p>

<p><strong>Regressions</strong> should be explicitly marked as such.
The synopsis line should read</p>

<blockquote>
[&lt;branches-to-fix&gt; regression] &lt;rest-of-synopsis&gt;
</blockquote>

<p>where &lt;branches-to-fix&gt; is the list of <em>maintained</em>
branches (separated by slashes) that need fixing. A regression should
start with priority "<strong>high</strong>" to bring it to attention.
It may be downgraded later if a defect is not important enough to justify
"high priority".</p>

<p><strong>Bugs in category "bootstrap"</strong> that refer to older
releases or snapshots/CVS versions should be put into state "feedback",
asking the reporter whether she can still reproduce the problem and to
report her findings in any case (whether positive or negative).</p>

<ul>
<li>If the response is "works now", close the report,</li>
<li>if the reponse is "still broken", change the state to "open", and</li>
<li>if no response arrives, close the PR after three months.</li>
</ul>

<p><strong>Bugs in category "ice-on-illegal-code"</strong>, where gcc
emits a sensible error message before issuing an ICE (the ICE will be
replaced by the message "confused by earlier errors, bailing out" in
release versions) should get "low" priority.
It should be noted in the audit trail, that the error recovery fails.</p>

</body>
</html>
